/*!
 * FullCalendar v2.4.0
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(e){return z(e,We)}function r(t){var n,r={views:t.views||{}};return e.each(t,function(t,a){"views"!=t&&(e.isPlainObject(a)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,We)?(n=null,e.each(a,function(e,a){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(r.views[e]||(r.views[e]={}),r.views[e][t]=a):(n||(n={}),n[e]=a)}),n&&(r[t]=n)):r[t]=a)}),r}function a(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function i(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){e("body").addClass("fc-not-allowed")}function s(){e("body").removeClass("fc-not-allowed")}function l(t,n,r){var a=Math.floor(n/t.length),i=Math.floor(n-a*(t.length-1)),o=[],s=[],l=[],u=0;d(t),t.each(function(n,r){var d=n===t.length-1?i:a,c=e(r).outerHeight(!0);d>c?(o.push(r),s.push(c),l.push(e(r).height())):u+=c}),r&&(n-=u,a=Math.floor(n/o.length),i=Math.floor(n-a*(o.length-1))),e(o).each(function(t,n){var r=t===o.length-1?i:a,d=s[t],u=l[t],c=r-(d-u);r>d&&e(n).height(c)})}function d(e){e.height("")}function u(t){var n=0;return t.find("> *").each(function(t,r){var a=e(r).outerWidth();a>n&&(n=a)}),n++,t.width(n),n}function c(e,t){return e.height(t).addClass("fc-scroller"),e[0].scrollHeight-1>e[0].clientHeight?!0:(h(e),!1)}function h(e){e.height("").removeClass("fc-scroller")}function f(t){var n=t.css("position"),r=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&r.length?r:e(t[0].ownerDocument||document)}function p(e){var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function m(e){var t=e.offset(),n=_(e),r=t.left+b(e,"border-left-width")+n.left,a=t.top+b(e,"border-top-width")+n.top;return{left:r,right:r+e[0].clientWidth,top:a,bottom:a+e[0].clientHeight}}function g(e){var t=e.offset(),n=t.left+b(e,"border-left-width")+b(e,"padding-left"),r=t.top+b(e,"border-top-width")+b(e,"padding-top");return{left:n,right:n+e.width(),top:r,bottom:r+e.height()}}function _(e){var t=e.innerWidth()-e[0].clientWidth,n={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return y()&&"rtl"==e.css("direction")?n.left=t:n.right=t,n}function y(){return null===Oe&&(Oe=v()),Oe}function v(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),r=n.offset().left>t.offset().left;return t.remove(),r}function b(e,t){return parseFloat(e.css(t))||0}function T(e){return 1==e.which&&!e.ctrlKey}function M(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function w(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function D(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function L(e,t){return{left:e.left-t.left,top:e.top-t.top}}function S(t){var n,r,a=[],i=[];for("string"==typeof t?i=t.split(/\s*,\s*/):"function"==typeof t?i=[t]:e.isArray(t)&&(i=t),n=0;n<i.length;n++)r=i[n],"string"==typeof r?a.push("-"==r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&a.push({func:r});return a}function k(e,t,n){var r,a;for(r=0;r<n.length;r++)if(a=x(e,t,n[r]))return a;return 0}function x(e,t,n){return n.func?n.func(e,t):Y(e[n.field],t[n.field])*(n.order||1)}function Y(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function C(e,t){var n,r,a,i,o=e.start,s=e.end,l=t.start,d=t.end;return s>l&&d>o?(o>=l?(n=o.clone(),a=!0):(n=l.clone(),a=!1),d>=s?(r=s.clone(),i=!0):(r=d.clone(),i=!1),{start:n,end:r,isStart:a,isEnd:i}):void 0}function E(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function H(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function j(e,n,r){return t.duration(Math.round(e.diff(n,r,!0)),r)}function R(e,t){var n,r,a;for(n=0;n<$e.length&&(r=$e[n],a=F(r,e,t),!(a>=1&&te(a)));n++);return r}function F(e,n,r){return null!=r?r.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function A(e,t,n){var r;return I(n)?(t-e)/n:(r=n.asMonths(),Math.abs(r)>=1&&te(r)?t.diff(e,"months",!0)/r:t.diff(e,"days",!0)/n.asDays())}function N(e,t){var n,r;return I(e)||I(t)?e/t:(n=e.asMonths(),r=t.asMonths(),Math.abs(n)>=1&&te(n)&&Math.abs(r)>=1&&te(r)?n/r:e.asDays()/t.asDays())}function P(e,n){var r;return I(e)?t.duration(e*n):(r=e.asMonths(),Math.abs(r)>=1&&te(r)?t.duration({months:r*n}):t.duration({days:e.asDays()*n}))}function I(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function W(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function O(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function z(e,t){var n,r,a,i,o,s,l={};if(t)for(n=0;n<t.length;n++){for(r=t[n],a=[],i=e.length-1;i>=0;i--)if(o=e[i][r],"object"==typeof o)a.unshift(o);else if(void 0!==o){l[r]=o;break}a.length&&(l[r]=z(a))}for(n=e.length-1;n>=0;n--){s=e[n];for(r in s)r in l||(l[r]=s[r])}return l}function $(e){var t=function(){};return t.prototype=e,new t}function B(e,t){for(var n in e)q(e,n)&&(t[n]=e[n])}function G(e,t){var n,r,a=["constructor","toString","valueOf"];for(n=0;n<a.length;n++)r=a[n],e[r]!==Object.prototype[r]&&(t[r]=e[r])}function q(e,t){return Je.call(e,t)}function J(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function U(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var a,i;for(a=0;a<t.length;a++)i=t[a].apply(n,r)||i;return i}}function V(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function Z(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function X(e){return e.replace(/&.*?;/g,"")}function Q(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function K(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e,t){return e-t}function te(e){return e%1===0}function ne(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function re(e,t){var n,r,a,i,o=function(){var s=+new Date-i;t>s&&s>0?n=setTimeout(o,t-s):(n=null,e.apply(a,r),n||(a=r=null))};return function(){a=this,r=arguments,i=+new Date,n||(n=setTimeout(o,t))}}function ae(n,r,a){var i,o,s,l,d=n[0],u=1==n.length&&"string"==typeof d;return t.isMoment(d)?(l=t.apply(null,n),oe(d,l)):W(d)||void 0===d?l=t.apply(null,n):(i=!1,o=!1,u?Ue.test(d)?(d+="-01",n=[d],i=!0,o=!0):(s=Ve.exec(d))&&(i=!s[5],o=!0):e.isArray(d)&&(o=!0),l=r||i?t.utc.apply(t,n):t.apply(null,n),i?(l._ambigTime=!0,l._ambigZone=!0):a&&(o?l._ambigZone=!0:u&&(l.utcOffset?l.utcOffset(d):l.zone(d)))),l._fullCalendar=!0,l}function ie(e,n){var r,a,i=!1,o=!1,s=e.length,l=[];for(r=0;s>r;r++)a=e[r],t.isMoment(a)||(a=Pe.moment.parseZone(a)),i=i||a._ambigTime,o=o||a._ambigZone,l.push(a);for(r=0;s>r;r++)a=l[r],n||!i||a._ambigTime?o&&!a._ambigZone&&(l[r]=a.clone().stripZone()):l[r]=a.clone().stripTime();return l}function oe(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function se(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function le(e,t){return Xe.format.call(e,t)}function de(e,t){return ue(e,me(t))}function ue(e,t){var n,r="";for(n=0;n<t.length;n++)r+=ce(e,t[n]);return r}function ce(e,t){var n,r;return"string"==typeof t?t:(n=t.token)?Qe[n]?Qe[n](e):le(e,n):t.maybe&&(r=ue(e,t.maybe),r.match(/[1-9]/))?r:""}function he(e,t,n,r,a){var i;return e=Pe.moment.parseZone(e),t=Pe.moment.parseZone(t),i=(e.localeData||e.lang).call(e),n=i.longDateFormat(n)||n,r=r||" - ",fe(e,t,me(n),r,a)}function fe(e,t,n,r,a){var i,o,s,l,d="",u="",c="",h="",f="";for(o=0;o<n.length&&(i=pe(e,t,n[o]),i!==!1);o++)d+=i;for(s=n.length-1;s>o&&(i=pe(e,t,n[s]),i!==!1);s--)u=i+u;for(l=o;s>=l;l++)c+=ce(e,n[l]),h+=ce(t,n[l]);return(c||h)&&(f=a?h+r+c:c+r+h),d+f+u}function pe(e,t,n){var r,a;return"string"==typeof n?n:(r=n.token)&&(a=Ke[r.charAt(0)],a&&e.isSame(t,a))?le(e,r):!1}function me(e){return e in et?et[e]:et[e]=ge(e)}function ge(e){for(var t,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:ge(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function _e(){}function ye(e,t){return e||t?e&&t?e.grid===t.grid&&e.row===t.row&&e.col===t.col:!1:!0}function ve(e){var t=Te(e);return"background"===t||"inverse-background"===t}function be(e){return"inverse-background"===Te(e)}function Te(e){return V((e.source||{}).rendering,e.rendering)}function Me(e){var t,n,r={};for(t=0;t<e.length;t++)n=e[t],(r[n._id]||(r[n._id]=[])).push(n);return r}function we(e,t){return e.eventStartMS-t.eventStartMS}function De(n){var r,a,i,o,s=Pe.dataAttrPrefix;return s&&(s+="-"),r=n.data(s+"event")||null,r&&(r="object"==typeof r?e.extend({},r):{},a=r.start,null==a&&(a=r.time),i=r.duration,o=r.stick,delete r.start,delete r.time,delete r.duration,delete r.stick),null==a&&(a=n.data(s+"start")),null==a&&(a=n.data(s+"time")),null==i&&(i=n.data(s+"duration")),null==o&&(o=n.data(s+"stick")),a=null!=a?t.duration(a):null,i=null!=i?t.duration(i):null,o=Boolean(o),{eventProps:r,startTime:a,duration:i,stick:o}}function Le(e,t){var n,r;for(n=0;n<t.length;n++)if(r=t[n],r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0;return!1}function Se(e,t){return e.leftCol-t.leftCol}function ke(e){var t,n,r,a=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<a.length&&Ce(n,a[r]).length;r++);n.level=r,(a[r]||(a[r]=[])).push(n)}return a}function xe(e){var t,n,r,a,i;for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for(a=n[r],a.forwardSegs=[],i=t+1;i<e.length;i++)Ce(a,e[i],a.forwardSegs)}function Ye(e){var t,n,r=e.forwardSegs,a=0;if(void 0===e.forwardPressure){for(t=0;t<r.length;t++)n=r[t],Ye(n),a=Math.max(a,1+n.forwardPressure);e.forwardPressure=a}}function Ce(e,t,n){n=n||[];for(var r=0;r<t.length;r++)Ee(e,t[r])&&n.push(t[r]);return n}function Ee(e,t){return e.bottom>t.top&&e.top<t.bottom}function He(n,r){function a(){q?s()&&(u(),l()):i()}function i(){J=W.theme?"ui":"fc",n.addClass("fc"),W.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),W.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),q=e("<div class='fc-view-container'/>").prependTo(n),B=I.header=new Fe(I,W),G=B.render(),G&&n.prepend(G),l(W.defaultView),W.handleWindowResize&&(Z=re(h,W.windowResizeDelay),e(window).resize(Z))}function o(){U&&U.removeElement(),B.removeElement(),q.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Z&&e(window).unbind("resize",Z)}function s(){return n.is(":visible")}function l(t){ne++,U&&t&&U.type!==t&&(B.deactivateButton(U.type),j(),U.removeElement(),U=I.view=null),!U&&t&&(U=I.view=te[t]||(te[t]=I.instantiateView(t)),U.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(q)),B.activateButton(t)),U&&(X=U.massageCurrentDate(X),U.displaying&&X.isWithin(U.intervalStart,U.intervalEnd)||s()&&(j(),U.display(X),R(),b(),T(),g())),R(),ne--}function d(e){return s()?(e&&c(),ne++,U.updateSize(!0),ne--,!0):void 0}function u(){s()&&c()}function c(){V="number"==typeof W.contentHeight?W.contentHeight:"number"==typeof W.height?W.height-(G?G.outerHeight(!0):0):Math.round(q.width()/Math.max(W.aspectRatio,.5))}function h(e){!ne&&e.target===window&&U.start&&d(!0)&&U.trigger("windowResize",ee)}function f(){m(),_()}function p(){s()&&(j(),U.displayEvents(ae),R())}function m(){j(),U.clearEvents(),R()}function g(){!W.lazyFetching||Q(U.start,U.end)?_():p()}function _(){K(U.start,U.end)}function y(e){ae=e,p()}function v(){p()}function b(){B.updateTitle(U.title)}function T(){var e=I.getNow();e.isWithin(U.intervalStart,U.intervalEnd)?B.disableButton("today"):B.enableButton("today")}function M(e,t){U.select(I.buildSelectRange.apply(I,arguments))}function w(){U&&U.unselect()}function D(){X=U.computePrevDate(X),l()}function L(){X=U.computeNextDate(X),l()}function S(){X.add(-1,"years"),l()}function k(){X.add(1,"years"),l()}function x(){X=I.getNow(),l()}function Y(e){X=I.moment(e),l()}function C(e){X.add(t.duration(e)),l()}function E(e,t){var n;t=t||"day",n=I.getViewSpec(t)||I.getUnitViewSpec(t),X=e,l(n?n.type:null)}function H(){return X.clone()}function j(){q.css({width:"100%",height:q.height(),overflow:"hidden"})}function R(){q.css({width:"",height:"",overflow:""})}function F(){return I}function A(){return U}function N(e,t){return void 0===t?W[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(W[e]=t,d(!0)))}function P(e,t){var n=Array.prototype.slice.call(arguments,2);return t=t||ee,this.triggerWith(e,t,n),W[e]?W[e].apply(t,n):void 0}var I=this;I.initOptions(r||{});var W=this.options;I.render=a,I.destroy=o,I.refetchEvents=f,I.reportEvents=y,I.reportEventChange=v,I.rerenderEvents=p,I.changeView=l,I.select=M,I.unselect=w,I.prev=D,I.next=L,I.prevYear=S,I.nextYear=k,I.today=x,I.gotoDate=Y,I.incrementDate=C,I.zoomTo=E,I.getDate=H,I.getCalendar=F,I.getView=A,I.option=N,I.trigger=P;var O=$(Re(W.lang));if(W.monthNames&&(O._months=W.monthNames),W.monthNamesShort&&(O._monthsShort=W.monthNamesShort),W.dayNames&&(O._weekdays=W.dayNames),W.dayNamesShort&&(O._weekdaysShort=W.dayNamesShort),null!=W.firstDay){var z=$(O._week);z.dow=W.firstDay,O._week=z}O._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(W.weekNumberCalculation),I.defaultAllDayEventDuration=t.duration(W.defaultAllDayEventDuration),I.defaultTimedEventDuration=t.duration(W.defaultTimedEventDuration),I.moment=function(){var e;return"local"===W.timezone?(e=Pe.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===W.timezone?Pe.moment.utc.apply(null,arguments):Pe.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=O:e._lang=O,e},I.getIsAmbigTimezone=function(){return"local"!==W.timezone&&"UTC"!==W.timezone},I.rezoneDate=function(e){return I.moment(e.toArray())},I.getNow=function(){var e=W.now;return"function"==typeof e&&(e=e()),I.moment(e)},I.getEventEnd=function(e){return e.end?e.end.clone():I.getDefaultEventEnd(e.allDay,e.start)},I.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(I.defaultAllDayEventDuration):n.add(I.defaultTimedEventDuration),I.getIsAmbigTimezone()&&n.stripZone(),n},I.humanizeDuration=function(e){return(e.locale||e.lang).call(e,W.lang).humanize()},Ae.call(I,W);var B,G,q,J,U,V,Z,X,Q=I.isFetchNeeded,K=I.fetchEvents,ee=n[0],te={},ne=0,ae=[];X=null!=W.defaultDate?I.moment(W.defaultDate):I.getNow(),I.getSuggestedViewHeight=function(){return void 0===V&&u(),V},I.isHeightAuto=function(){return"auto"===W.contentHeight||"auto"===W.height},I.initialize()}function je(t){e.each(_t,function(e,n){null==t[e]&&(t[e]=n(t))})}function Re(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Fe(t,n){function r(){var t=n.header;return f=n.theme?"ui":"fc",t?p=e("<div class='fc-toolbar'/>").append(i("left")).append(i("right")).append(i("center")).append('<div class="fc-clear"/>'):void 0}function a(){p.remove(),p=e()}function i(r){var a=e('<div class="fc-'+r+'"/>'),i=n.header[r];return i&&e.each(i.split(" "),function(r){var i,o=e(),s=!0;e.each(this.split(","),function(r,a){var i,l,d,u,c,h,p,g,_,y;"title"==a?(o=o.add(e("<h2>&nbsp;</h2>")),s=!1):((i=(t.options.customButtons||{})[a])?(d=function(e){i.click&&i.click.call(y[0],e)},u="",c=i.text):(l=t.getViewSpec(a))?(d=function(){t.changeView(a)},m.push(a),u=l.buttonTextOverride,c=l.buttonTextDefault):t[a]&&(d=function(){t[a]()},u=(t.overrides.buttonText||{})[a],c=n.buttonText[a]),d&&(h=i?i.themeIcon:n.themeButtonIcons[a],p=i?i.icon:n.buttonIcons[a],g=u?Z(u):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":p&&!n.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":Z(c),_=["fc-"+a+"-button",f+"-button",f+"-state-default"],y=e('<button type="button" class="'+_.join(" ")+'">'+g+"</button>").click(function(e){y.hasClass(f+"-state-disabled")||(d(e),(y.hasClass(f+"-state-active")||y.hasClass(f+"-state-disabled"))&&y.removeClass(f+"-state-hover"))}).mousedown(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){y.removeClass(f+"-state-down")}).hover(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){y.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),o=o.add(y)))}),s&&o.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),o.length>1?(i=e("<div/>"),s&&i.addClass("fc-button-group"),i.append(o),a.append(i)):a.append(o)}),a}function o(e){p.find("h2").text(e)}function s(e){p.find(".fc-"+e+"-button").addClass(f+"-state-active")}function l(e){p.find(".fc-"+e+"-button").removeClass(f+"-state-active")}function d(e){p.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function u(e){p.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function c(){return m}var h=this;h.render=r,h.removeElement=a,h.updateTitle=o,h.activateButton=s,h.deactivateButton=l,h.disableButton=d,h.enableButton=u,h.getViewsWithButtons=c;var f,p=e(),m=[]}function Ae(n){function r(e,t){return!P||e.clone().stripZone()<P.clone().stripZone()||t.clone().stripZone()>I.clone().stripZone()}function a(e,t){P=e,I=t,q=[];var n=++B,r=$.length;G=r;for(var a=0;r>a;a++)i($[a],n)}function i(t,n){o(t,function(r){var a,i,o,s=e.isArray(t.events);if(n==B){if(r)for(a=0;a<r.length;a++)i=r[a],o=s?i:y(i,t),o&&q.push.apply(q,w(o));G--,G||W(q)}})}function o(t,r){var a,i,s=Pe.sourceFetchers;for(a=0;a<s.length;a++){if(i=s[a].call(N,t,P.clone(),I.clone(),n.timezone,r),i===!0)return;if("object"==typeof i)return void o(i,r)}var l=t.events;if(l)e.isFunction(l)?(N.pushLoading(),l.call(N,P.clone(),I.clone(),n.timezone,function(e){r(e),N.popLoading()})):e.isArray(l)?r(l):r();else{var d=t.url;if(d){var u,c=t.success,h=t.error,f=t.complete;u=e.isFunction(t.data)?t.data():t.data;var p=e.extend({},u||{}),m=V(t.startParam,n.startParam),g=V(t.endParam,n.endParam),_=V(t.timezoneParam,n.timezoneParam);m&&(p[m]=P.format()),g&&(p[g]=I.format()),n.timezone&&"local"!=n.timezone&&(p[_]=n.timezone),N.pushLoading(),e.ajax(e.extend({},yt,t,{data:p,success:function(t){t=t||[];var n=U(c,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){U(h,this,arguments),r()},complete:function(){U(f,this,arguments),N.popLoading()}}))}else r()}}function s(e){var t=l(e);t&&($.push(t),G++,i(t,B))}function l(t){var n,r,a=Pe.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return y(e,n)})),r=0;r<a.length;r++)a[r].call(N,n);return n}}function d(t){$=e.grep($,function(e){return!u(e,t)}),q=e.grep(q,function(e){return!u(e.source,t)}),W(q)}function u(e,t){return e&&t&&c(e)==c(t)}function c(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function h(e){e.start=N.moment(e.start),e.end?e.end=N.moment(e.end):e.end=null,D(e,f(e)),W(q)}function f(t){var n={};return e.each(t,function(e,t){p(e)&&void 0!==t&&J(t)&&(n[e]=t)}),n}function p(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function m(e,t){var n,r,a,i=y(e);if(i){for(n=w(i),r=0;r<n.length;r++)a=n[r],a.source||(t&&(z.events.push(a),a.source=z),q.push(a));return W(q),n}return[]}function g(t){var n,r;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),q=e.grep(q,t,!0),r=0;r<$.length;r++)e.isArray($[r].events)&&($[r].events=e.grep($[r].events,t,!0));W(q)}function _(t){return e.isFunction(t)?e.grep(q,t):null!=t?(t+="",e.grep(q,function(e){return e._id==t})):q}function y(r,a){var i,o,s,l={};if(n.eventDataTransform&&(r=n.eventDataTransform(r)),a&&a.eventDataTransform&&(r=a.eventDataTransform(r)),e.extend(l,r),a&&(l.source=a),l._id=r._id||(void 0===r.id?"_fc"+vt++:r.id+""),r.className?"string"==typeof r.className?l.className=r.className.split(/\s+/):l.className=r.className:l.className=[],i=r.start||r.date,o=r.end,O(i)&&(i=t.duration(i)),O(o)&&(o=t.duration(o)),r.dow||t.isDuration(i)||t.isDuration(o))l.start=i?t.duration(i):null,l.end=o?t.duration(o):null,l._recurring=!0;else{if(i&&(i=N.moment(i),!i.isValid()))return!1;o&&(o=N.moment(o),o.isValid()||(o=null)),s=r.allDay,void 0===s&&(s=V(a?a.allDayDefault:void 0,n.allDayDefault)),v(i,o,s,l)}return l}function v(e,t,n,r){r.start=e,r.end=t,r.allDay=n,b(r),Ne(r)}function b(e){T(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(n.forceEventDuration?e.end=N.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function T(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=N.rezoneDate(e.start)),e.end&&!e.end.hasTime()&&(e.end=N.rezoneDate(e.end)))}function M(t){var n;return t.end||(n=t.allDay,null==n&&(n=!t.start.hasTime()),t=e.extend({},t),t.end=N.getDefaultEventEnd(n,t.start)),t}function w(t,n,r){var a,i,o,s,l,d,u,c,h,f=[];if(n=n||P,r=r||I,t)if(t._recurring){if(i=t.dow)for(a={},o=0;o<i.length;o++)a[i[o]]=!0;for(s=n.clone().stripTime();s.isBefore(r);)(!a||a[s.day()])&&(l=t.start,d=t.end,u=s.clone(),c=null,l&&(u=u.time(l)),d&&(c=s.clone().time(d)),h=e.extend({},t),v(u,c,!l&&!d,h),f.push(h)),s.add(1,"days")}else f.push(t);return f}function D(t,n,r){function a(e,t){return r?j(e,t,r):n.allDay?H(e,t):E(e,t)}var i,o,s,l,d,u,c={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),b(n),i={start:t._start.clone(),end:t._end?t._end.clone():N.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},b(i),o=null!==t._end&&null===n.end,s=a(n.start,i.start),n.end?(l=a(n.end,i.end),d=l.subtract(s)):d=null,e.each(n,function(e,t){p(e)&&void 0!==t&&(c[e]=t)}),u=L(_(t._id),o,n.allDay,s,d,c),{dateDelta:s,durationDelta:d,undo:u}}function L(t,n,r,a,i,o){var s=N.getIsAmbigTimezone(),l=[];return a&&!a.valueOf()&&(a=null),i&&!i.valueOf()&&(i=null),e.each(t,function(t,d){var u,c;u={start:d.start.clone(),end:d.end?d.end.clone():null,allDay:d.allDay},e.each(o,function(e){u[e]=d[e]}),c={start:d._start,end:d._end,allDay:r},b(c),n?c.end=null:i&&!c.end&&(c.end=N.getDefaultEventEnd(c.allDay,c.start)),a&&(c.start.add(a),c.end&&c.end.add(a)),i&&c.end.add(i),s&&!c.allDay&&(a||i)&&(c.start.stripZone(),c.end&&c.end.stripZone()),e.extend(d,o,c),Ne(d),l.push(function(){e.extend(d,u),Ne(d)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}function S(t){var r,a=n.businessHours,i={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},o=N.getView();return a&&(r=e.extend({},i,"object"==typeof a?a:{})),r?(t&&(r.start=null,r.end=null),w(y(r),o.start,o.end)):[]}function k(e,t){var r=t.source||{},a=V(t.constraint,r.constraint,n.eventConstraint),i=V(t.overlap,r.overlap,n.eventOverlap);return e=M(e),C(e,a,i,t)}function x(e){return C(e,n.selectConstraint,n.selectOverlap)}function Y(t,n){var r,a;return n&&(r=e.extend({},n,t),a=w(y(r))[0]),a?k(t,a):(t=M(t),x(t))}function C(t,n,r,a){var i,o,s,l,d,u;if(t=e.extend({},t),t.start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=n){for(i=R(n),o=!1,l=0;l<i.length;l++)if(F(i[l],t)){o=!0;break}if(!o)return!1}for(s=N.getPeerEvents(a,t),l=0;l<s.length;l++)if(d=s[l],A(d,t)){if(r===!1)return!1;if("function"==typeof r&&!r(d,a))return!1;if(a){if(u=V(d.overlap,(d.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(a,d))return!1}}return!0}function R(e){return"businessHours"===e?S():"object"==typeof e?w(y(e)):_(e)}function F(e,t){var n=e.start.clone().stripZone(),r=N.getEventEnd(e).stripZone();return t.start>=n&&t.end<=r}function A(e,t){var n=e.start.clone().stripZone(),r=N.getEventEnd(e).stripZone();return t.start<r&&t.end>n}var N=this;N.isFetchNeeded=r,N.fetchEvents=a,N.addEventSource=s,N.removeEventSource=d,N.updateEvent=h,N.renderEvent=m,N.removeEvents=g,N.clientEvents=_,N.mutateEvent=D,N.normalizeEventRange=b,N.normalizeEventRangeTimes=T,N.ensureVisibleEventRange=M;var P,I,W=N.reportEvents,z={events:[]},$=[z],B=0,G=0,q=[];e.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(e,t){var n=l(t);n&&$.push(n)}),N.getBusinessHoursEvents=S,N.isEventRangeAllowed=k,N.isSelectionRangeAllowed=x,N.isExternalDropRangeAllowed=Y,N.getEventCache=function(){return q}}function Ne(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Pe=e.fullCalendar={version:"2.4.0"},Ie=Pe.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(a,i){var o,s=e(i),l=s.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(o=l[t].apply(l,n),a||(r=o),"destroy"===t&&s.removeData("fullCalendar")):l||(l=new ft(s,t),s.data("fullCalendar",l),l.render())}),r};var We=["header","buttonText","buttonIcons","themeButtonIcons"];Pe.intersectionToSeg=C,Pe.applyAll=U,Pe.debounce=re,Pe.isInt=te,Pe.htmlEscape=Z,Pe.cssToStr=Q,Pe.proxy=ne,Pe.capitaliseFirstLetter=K,Pe.getClientRect=m,Pe.getContentRect=g,Pe.getScrollbarWidths=_;var Oe=null;Pe.intersectRects=M,Pe.parseFieldSpecs=S,Pe.compareByFieldSpecs=k,Pe.compareByFieldSpec=x,Pe.flexibleCompare=Y,Pe.computeIntervalUnit=R,Pe.divideRangeByDuration=A,Pe.divideDurationByDuration=N,Pe.multiplyDuration=P,Pe.durationHasTime=I;var ze=["sun","mon","tue","wed","thu","fri","sat"],$e=["year","month","week","day","hour","minute","second","millisecond"];Pe.log=function(){var e=window.console;return e&&e.log?e.log.apply(e,arguments):void 0},Pe.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):Pe.log.apply(Pe,arguments)};var Be,Ge,qe,Je={}.hasOwnProperty,Ue=/^\s*\d{4}-\d\d$/,Ve=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ze=t.fn,Xe=e.extend({},Ze);Pe.moment=function(){return ae(arguments)},Pe.moment.utc=function(){var e=ae(arguments,!0);return e.hasTime()&&e.utc(),e},Pe.moment.parseZone=function(){return ae(arguments,!0,!0)},Ze.clone=function(){var e=Xe.clone.apply(this,arguments);return oe(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},Ze.week=Ze.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?Xe.isoWeek.apply(this,arguments):Xe.week.apply(this,arguments)},Ze.time=function(e){if(!this._fullCalendar)return Xe.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Ze.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),Ge(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ze.hasTime=function(){return!this._ambigTime},Ze.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),Ge(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},Ze.hasZone=function(){return!this._ambigZone},Ze.local=function(){var e=this.toArray(),t=this._ambigZone;return Xe.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&qe(this,e),this},Ze.utc=function(){return Xe.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){Xe[t]&&(Ze[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),Xe[t].apply(this,arguments)})}),Ze.format=function(){return this._fullCalendar&&arguments[0]?de(this,arguments[0]):this._ambigTime?le(this,"YYYY-MM-DD"):this._ambigZone?le(this,"YYYY-MM-DD[T]HH:mm:ss"):Xe.format.apply(this,arguments)},Ze.toISOString=function(){return this._ambigTime?le(this,"YYYY-MM-DD"):this._ambigZone?le(this,"YYYY-MM-DD[T]HH:mm:ss"):Xe.toISOString.apply(this,arguments)},Ze.isWithin=function(e,t){var n=ie([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},Ze.isSame=function(e,t){var n;return this._fullCalendar?t?(n=ie([this,e],!0),Xe.isSame.call(n[0],n[1],t)):(e=Pe.moment.parseZone(e),Xe.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):Xe.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){Ze[t]=function(e,n){var r;return this._fullCalendar?(r=ie([this,e]),Xe[t].call(r[0],r[1],n)):Xe[t].apply(this,arguments)}}),Be="_d"in t()&&"updateOffset"in t,Ge=Be?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:se,qe=Be?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:se;var Qe={t:function(e){return le(e,"a").charAt(0)},T:function(e){return le(e,"A").charAt(0)}};Pe.formatRange=he;var Ke={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},et={};Pe.Class=_e,_e.extend=function(e){var t,n=this;return e=e||{},q(e,"constructor")&&(t=e.constructor),"function"!=typeof t&&(t=e.constructor=function(){n.apply(this,arguments)}),t.prototype=$(n.prototype),B(e,t.prototype),G(e,t.prototype),B(n,t),t},_e.mixin=function(e){B(e.prototype||e,this.prototype)};var tt=Pe.Emitter=_e.extend({callbackHash:null,on:function(e,t){return this.getCallbacks(e).add(t),this},off:function(e,t){return this.getCallbacks(e).remove(t),this},trigger:function(e){var t=Array.prototype.slice.call(arguments,1);return this.triggerWith(e,this,t),this},triggerWith:function(e,t,n){var r=this.getCallbacks(e);return r.fireWith(t,n),this},getCallbacks:function(t){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[t],n||(n=this.callbackHash[t]=e.Callbacks()),n}}),nt=_e.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&e(document).on("mousedown",this.documentMousedownProxy=ne(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,n,r,a,i,o=this.options,s=this.el.offsetParent().offset(),l=this.el.outerWidth(),d=this.el.outerHeight(),u=e(window),c=f(this.el);a=o.top||0,i=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,c.is(window)||c.is(document)?(c=u,t=0,n=0):(r=c.offset(),t=r.top,n=r.left),t+=u.scrollTop(),n+=u.scrollLeft(),o.viewportConstrain!==!1&&(a=Math.min(a,t+c.outerHeight()-d-this.margin),a=Math.max(a,t+this.margin),i=Math.min(i,n+c.outerWidth()-l-this.margin),i=Math.max(i,n+this.margin)),this.el.css({top:a-s.top,left:i-s.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),rt=_e.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(e){this.grid=e},build:function(){this.grid.build(),this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.grid.clear(),this.rowCoords=null,this.colCoords=null},getCell:function(t,n){var r,a,i,o=this.rowCoords,s=o.length,l=this.colCoords,d=l.length,u=null,c=null;if(this.inBounds(t,n)){for(r=0;s>r;r++)if(a=o[r],n>=a.top&&n<a.bottom){u=r;break}for(r=0;d>r;r++)if(a=l[r],t>=a.left&&t<a.right){c=r;break}if(null!==u&&null!==c)return i=this.grid.getCell(u,c),i.grid=this.grid,e.extend(i,o[u],l[c]),i}return null},computeBounds:function(){this.bounds=this.containerEl?m(this.containerEl):null;
},inBounds:function(e,t){var n=this.bounds;return n?e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom:!0}}),at=_e.extend({coordMaps:null,constructor:function(e){this.coordMaps=e},build:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].build()},getCell:function(e,t){var n,r=this.coordMaps,a=null;for(n=0;n<r.length&&!a;n++)a=r[n].getCell(e,t);return a},clear:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].clear()}}),it=Pe.DragListener=_e.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function(e){T(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function(t){var n;this.isListening||(t&&this.options.scroll&&(n=f(e(t.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=re(ne(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")).on("mouseup",this.mouseupProxy=ne(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(e){this.trigger("listenStart",e)},mousemove:function(e){var t,n,r=e.pageX-this.originX,a=e.pageY-this.originY;this.isDragging||(t=this.options.distance||1,n=r*r+a*a,n>=t*t&&this.startDrag(e)),this.isDragging&&this.drag(r,a,e)},startDrag:function(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function(e){var t=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(e,t,n){this.trigger("drag",e,t,n),this.updateScroll(n)},mouseup:function(e){this.stopListening(e)},stopDrag:function(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function(e){var t=this;this.trigger("dragStop",e),setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(e){this.trigger("listenStop",e)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;this.scrollBounds=e?p(e):null},updateScroll:function(e){var t,n,r,a,i=this.scrollSensitivity,o=this.scrollBounds,s=0,l=0;o&&(t=(i-(e.pageY-o.top))/i,n=(i-(o.bottom-e.pageY))/i,r=(i-(e.pageX-o.left))/i,a=(i-(o.right-e.pageX))/i,t>=0&&1>=t?s=t*this.scrollSpeed*-1:n>=0&&1>=n&&(s=n*this.scrollSpeed),r>=0&&1>=r?l=r*this.scrollSpeed*-1:a>=0&&1>=a&&(l=a*this.scrollSpeed)),this.setScrollVel(s,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ne(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),ot=it.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(e,t){it.prototype.constructor.call(this,t),this.coordMap=e},listenStart:function(e){var t,n,r,a=this.subjectEl;it.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(n={left:e.pageX,top:e.pageY},r=n,a&&(t=p(a),r=w(r,t)),this.origCell=this.getCell(r.left,r.top),a&&this.options.subjectCenter&&(this.origCell&&(t=M(this.origCell,t)||t),r=D(t)),this.coordAdjust=L(r,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(e){var t;it.prototype.dragStart.apply(this,arguments),t=this.getCell(e.pageX,e.pageY),t&&this.cellOver(t)},drag:function(e,t,n){var r;it.prototype.drag.apply(this,arguments),r=this.getCell(n.pageX,n.pageY),ye(r,this.cell)||(this.cell&&this.cellOut(),r&&this.cellOver(r))},dragStop:function(){this.cellDone(),it.prototype.dragStop.apply(this,arguments)},cellOver:function(e){this.cell=e,this.trigger("cellOver",e,ye(e,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){it.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){it.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.coordMap.getCell(e,t)}}),st=_e.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")))},stop:function(t,n){function r(){this.isAnimating=!1,a.removeElement(),this.top0=this.left0=null,n&&n()}var a=this,i=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,e(document).off("mousemove",this.mousemoveProxy),t&&i&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:i,complete:r})):r())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),lt=_e.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL")},rowHtml:function(e,t){var n,r,a=this.getHtmlRenderer("cell",e),i="";for(t=t||0,n=0;n<this.colCnt;n++)r=this.getCell(t,n),i+=a(r);return i=this.bookendCells(i,e,t),"<tr>"+i+"</tr>"},bookendCells:function(e,t,n){var r=this.getHtmlRenderer("intro",t)(n||0),a=this.getHtmlRenderer("outro",t)(n||0),i=this.isRTL?a:r,o=this.isRTL?r:a;return"string"==typeof e?i+e+o:e.prepend(i).append(o)},getHtmlRenderer:function(e,t){var n,r,a,i,o=this.view;return n=e+"Html",t&&(r=t+K(e)+"Html"),r&&(i=o[r])?a=o:r&&(i=this[r])?a=this:(i=o[n])?a=o:(i=this[n])&&(a=this),"function"==typeof i?function(){return i.apply(a,arguments)||""}:function(){return i||""}}}),dt=Pe.Grid=lt.extend({start:null,end:null,rowCnt:0,colCnt:0,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){lt.apply(this,arguments),this.coordMap=new rt(this),this.elsByFill={},this.externalDragStartProxy=ne(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.colHeadFormat=n.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),e=n.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=n.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},build:function(){},clear:function(){},rangeToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?j(e,t,this.largeUnit):E(e,t)},getCell:function(t,n){var r;return null==n&&("number"==typeof t?(n=t%this.colCnt,t=Math.floor(t/this.colCnt)):(n=t.col,t=t.row)),r={row:t,col:n},e.extend(r,this.getRowData(t),this.getColData(n)),e.extend(r,this.computeCellRange(r)),r},computeCellRange:function(e){var t=this.computeCellDate(e);return{start:t,end:t.clone().add(this.cellDuration)}},computeCellDate:function(e){},getRowData:function(e){return{}},getColData:function(e){return{}},getRowEl:function(e){},getColEl:function(e){},getCellDayEl:function(e){return this.getColEl(e.col)||this.getRowEl(e.row)},computeRowCoords:function(){var e,t,n,r=[];for(e=0;e<this.rowCnt;e++)t=this.getRowEl(e),n=t.offset().top,r.push({top:n,bottom:n+t.outerHeight()});return r},computeColCoords:function(){var e,t,n,r=[];for(e=0;e<this.colCnt;e++)t=this.getColEl(e),n=t.offset().left,r.push({left:n,right:n+t.outerWidth()});return r},setElement:function(t){var n=this;this.el=t,t.on("mousedown",function(t){e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length||n.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){e(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){e(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(e){var t,n,r=this,a=this.view,i=a.opt("selectable"),l=new ot(this.coordMap,{scroll:a.opt("dragScroll"),dragStart:function(){a.unselect()},cellOver:function(e,a,s){s&&(t=a?e:null,i&&(n=r.computeSelection(s,e),n?r.renderSelection(n):o()))},cellOut:function(e){t=null,n=null,r.unrenderSelection(),s()},listenStop:function(e){t&&a.triggerDayClick(t,r.getCellDayEl(t),e),n&&a.reportSelection(n,e),s()}});l.mousedown(e)},renderRangeHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?$(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(this.selectionRangeToSegs(e))},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n,r=[e.start,e.end,t.start,t.end];return r.sort(ee),n={start:r[0].clone(),end:r[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},selectionRangeToSegs:function(e){return this.rangeToSegs(e)},renderHighlight:function(e){this.renderFill("highlight",e)},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var r,a=this,i=this[t+"SegEl"],o="",s=[];if(n.length){for(r=0;r<n.length;r++)o+=this.fillSegHtml(t,n[r]);e(o).each(function(t,r){var o=n[t],l=e(r);i&&(l=i.call(a,o,l)),l&&(l=e(l),l.is(a.fillSegTag)&&(o.el=l,s.push(o)))})}return s},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],r=this[e+"SegCss"],a=n?n.call(this,t):[],i=Q(r?r.call(this,t):{});return"<"+this.fillSegTag+(a.length?' class="'+a.join(" ")+'"':"")+(i?' style="'+i+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(e){var t=this.view,n=e.start;return'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+ze[n.day()]+'">'+Z(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(e){var t=this.view,n=e.start,r=this.getDayClasses(n);return r.unshift("fc-day",t.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow().stripTime(),r=["fc-"+ze[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&r.push("fc-other-month"),e.isSame(n,"day")?r.push("fc-today",t.highlightStateClass):n>e?r.push("fc-past"):r.push("fc-future"),r}});dt.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n,r=this.eventsToSegs(e),a=[],i=[];for(t=0;t<r.length;t++)n=r[t],ve(n.event)?a.push(n):i.push(n);a=this.renderBgSegs(a)||a,i=this.renderFgSegs(i)||i,this.segs=a.concat(i)},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var r,a=this.view,i="",o=[];if(t.length){for(r=0;r<t.length;r++)i+=this.fgSegHtml(t[r],n);e(i).each(function(n,r){var i=t[n],s=a.resolveEventEl(i.event,e(r));s&&(s.data("fc-seg",i),i.el=s,o.push(i))})}return o},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){var t=this.view,n=e.event,r=n.source||{};return{"background-color":n.backgroundColor||n.color||r.backgroundColor||r.color||t.opt("eventBackgroundColor")||t.opt("eventColor")}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(r,a){e(a.target).is(".fc-resizer")&&n.isEventResizable(r.event)?t.segResizeMousedown(r,a,e(a.target).is(".fc-start-resizer")):n.isEventDraggable(r.event)&&t.segDragMousedown(r,a)}},function(n,r){t.el.on(n,".fc-event-container > *",function(n){var a=e(this).data("fc-seg");return!a||t.isDraggingSeg||t.isResizingSeg?void 0:r.call(this,a,n)})})},triggerSegMouseover:function(e,t){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,t))},triggerSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,t))},segDragMousedown:function(e,t){var n,r=this,a=this.view,i=a.calendar,l=e.el,d=e.event,u=new st(e.el,{parentEl:a.el,opacity:a.opt("dragOpacity"),revertDuration:a.opt("dragRevertDuration"),zIndex:2}),c=new ot(a.coordMap,{distance:5,scroll:a.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(e){u.hide(),u.start(e)},dragStart:function(t){r.triggerSegMouseout(e,t),r.segDragStart(e,t),a.hideEvent(d)},cellOver:function(t,s,l){e.cell&&(l=e.cell),n=r.computeEventDrop(l,t,d),n&&!i.isEventRangeAllowed(n,d)&&(o(),n=null),n&&a.renderDrag(n,e)?u.hide():u.show(),s&&(n=null)},cellOut:function(){a.unrenderDrag(),u.show(),n=null},cellDone:function(){s()},dragStop:function(t){u.stop(!n,function(){a.unrenderDrag(),a.showEvent(d),r.segDragStop(e,t),n&&a.reportEventDrop(d,n,this.largeUnit,l,t)})},listenStop:function(){u.stop()}});c.mousedown(t)},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var r,a,i=this.view.calendar,o=e.start,s=t.start;return o.hasTime()===s.hasTime()?(r=this.diffDates(s,o),n.allDay&&I(r)?(a={start:n.start.clone(),end:i.getEventEnd(n),allDay:!1},i.normalizeEventRangeTimes(a)):a={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},a.start.add(r),a.end&&a.end.add(r)):a={start:s.clone(),end:null,allDay:!s.hasTime()},a},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var r,a,i=this.view;i.opt("droppable")&&(r=e((n?n.item:null)||t.target),a=i.opt("dropAccept"),(e.isFunction(a)?a.call(r[0],r):r.is(a))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,n)))},listenToExternalDrag:function(e,t,n){var r,a,i=this,l=De(e);r=new ot(this.coordMap,{listenStart:function(){i.isDraggingExternal=!0},cellOver:function(e){a=i.computeExternalDrop(e,l),a?i.renderDrag(a):o()},cellOut:function(){a=null,i.unrenderDrag(),s()},dragStop:function(){i.unrenderDrag(),s(),a&&i.view.reportExternalDrop(l,a,e,t,n)},listenStop:function(){i.isDraggingExternal=!1}}),r.startDrag(t)},computeExternalDrop:function(e,t){var n={start:e.start.clone(),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),this.view.calendar.isExternalDropRangeAllowed(n,t.eventProps)?n:null},renderDrag:function(e,t){},unrenderDrag:function(){},segResizeMousedown:function(e,t,n){var r,a,i=this,l=this.view,d=l.calendar,u=e.el,c=e.event,h=d.getEventEnd(c);r=new ot(this.coordMap,{distance:5,scroll:l.opt("dragScroll"),subjectEl:u,dragStart:function(t){i.triggerSegMouseout(e,t),i.segResizeStart(e,t)},cellOver:function(t,r,s){a=n?i.computeEventStartResize(s,t,c):i.computeEventEndResize(s,t,c),a&&(d.isEventRangeAllowed(a,c)?a.start.isSame(c.start)&&a.end.isSame(h)&&(a=null):(o(),a=null)),a&&(l.hideEvent(c),i.renderEventResize(a,e))},cellOut:function(){a=null},cellDone:function(){i.unrenderEventResize(),l.showEvent(c),s()},dragStop:function(t){i.segResizeStop(e,t),a&&l.reportEventResize(c,a,this.largeUnit,u,t)}}),r.mousedown(t)},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,r){var a,i,o=this.view.calendar,s=this.diffDates(n[e],t[e]);return a={start:r.start.clone(),end:o.getEventEnd(r),allDay:r.allDay},a.allDay&&I(s)&&(a.allDay=!1,o.normalizeEventRangeTimes(a)),a[e].add(s),a.start.isBefore(a.end)||(i=r.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<i&&(i=this.cellDuration),"start"==e?a.start=a.end.clone().subtract(i):a.end=a.start.clone().add(i)),a},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var r=e.event,a=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&a.push("fc-draggable"),n&&a.push("fc-resizable"),a},getEventSkinCss:function(e){var t=this.view,n=e.source||{},r=e.color,a=n.color,i=t.opt("eventColor");return{"background-color":e.backgroundColor||r||n.backgroundColor||a||t.opt("eventBackgroundColor")||i,"border-color":e.borderColor||r||n.borderColor||a||t.opt("eventBorderColor")||i,color:e.textColor||n.textColor||t.opt("eventTextColor")}},eventsToSegs:function(e,t){var n,r=this.eventsToRanges(e),a=[];for(n=0;n<r.length;n++)a.push.apply(a,this.eventRangeToSegs(r[n],t));return a},eventsToRanges:function(t){var n=this,r=Me(t),a=[];return e.each(r,function(e,t){t.length&&a.push.apply(a,be(t[0])?n.eventsToInverseRanges(t):n.eventsToNormalRanges(t))}),a},eventsToNormalRanges:function(e){var t,n,r,a,i=this.view.calendar,o=[];for(t=0;t<e.length;t++)n=e[t],r=n.start.clone().stripZone(),a=i.getEventEnd(n).stripZone(),o.push({event:n,start:r,end:a,eventStartMS:+r,eventDurationMS:a-r});return o},eventsToInverseRanges:function(e){var t,n,r=this.view,a=r.start.clone().stripZone(),i=r.end.clone().stripZone(),o=this.eventsToNormalRanges(e),s=[],l=e[0],d=a;for(o.sort(we),t=0;t<o.length;t++)n=o[t],n.start>d&&s.push({event:l,start:d,end:n.start}),d=n.end;return i>d&&s.push({event:l,start:d,end:i}),s},eventRangeToSegs:function(e,t){var n,r,a;for(e=this.view.calendar.ensureVisibleEventRange(e),n=t?t(e):this.rangeToSegs(e),r=0;r<n.length;r++)a=n[r],a.event=e.event,a.eventStartMS=e.eventStartMS,a.eventDurationMS=e.eventDurationMS;return n},sortSegs:function(e){e.sort(ne(this,"compareSegs"))},compareSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||k(e.event,t.event,this.view.eventOrderSpecs)}}),Pe.dataAttrPrefix="";var ut=dt.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){dt.apply(this,arguments),this.cellDuration=t.duration(1,"day")},renderDates:function(e){var t,n,r,a=this.view,i=this.rowCnt,o=this.colCnt,s=i*o,l="";for(t=0;i>t;t++)l+=this.dayRowHtml(t,e);for(this.el.html(l),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;s>n;n++)r=this.getCell(n),a.trigger("dayRender",null,r.start,this.dayEls.eq(n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},dayRowHtml:function(e,t){var n=this.view,r=["fc-row","fc-week",n.widgetContentClass];return t&&r.push("fc-rigid"),'<div class="'+r.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",e)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(e){return this.bgCellHtml(e)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){var e,t,n,r;if(this.updateCellDates(),e=this.cellDates,this.breakOnWeeks){for(t=e[0].day(),r=1;r<e.length&&e[r].day()!=t;r++);n=Math.ceil(e.length/r)}else n=1,r=e.length;this.rowCnt=n,this.colCnt=r},updateCellDates:function(){for(var e=this.view,t=this.start.clone(),n=[],r=-1,a=[];t.isBefore(this.end);)e.isHiddenDay(t)?a.push(r+.5):(r++,a.push(r),n.push(t.clone())),t.add(1,"days");this.cellDates=n,this.dayToCellOffsets=a},computeCellDate:function(e){var t=this.colCnt,n=e.row*t+(this.isRTL?t-e.col-1:e.col);return this.cellDates[n].clone()},getRowEl:function(e){return this.rowEls.eq(e)},getColEl:function(e){return this.dayEls.eq(e)},getCellDayEl:function(e){return this.dayEls.eq(e.row*this.colCnt+e.col)},computeRowCoords:function(){var e=dt.prototype.computeRowCoords.call(this);return e[e.length-1].bottom+=this.bottomCoordPadding,e},rangeToSegs:function(e){var t,n,r,a,i,o,s,l,d,u,c=this.isRTL,h=this.rowCnt,f=this.colCnt,p=[];for(e=this.view.computeDayRange(e),t=this.dateToCellOffset(e.start),n=this.dateToCellOffset(e.end.subtract(1,"days")),r=0;h>r;r++)a=r*f,i=a+f-1,l=Math.max(a,t),d=Math.min(i,n),l=Math.ceil(l),d=Math.floor(d),d>=l&&(o=l===t,s=d===n,l-=a,d-=a,u={row:r,isStart:o,isEnd:s},c?(u.leftCol=f-d-1,u.rightCol=f-l-1):(u.leftCol=l,u.rightCol=d),p.push(u));return p},dateToCellOffset:function(e){var t=this.dayToCellOffsets,n=e.diff(this.start,"days");return 0>n?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},renderDrag:function(e,t){return this.renderHighlight(this.eventRangeToSegs(e)),t&&!t.el.closest(this.el).length?(this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){this.renderHighlight(this.eventRangeToSegs(e)),this.renderRangeHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var r,a=[],i=this.eventsToSegs([t]);i=this.renderFgSegEls(i),r=this.renderSegRows(i),this.rowEls.each(function(t,i){var o,s=e(i),l=e('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===t?n.el.position().top:s.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(r[t].tbodyEl),s.append(l),a.push(l[0])}),this.helperEls=e(a)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,r){var a,i,o,s=[];for(n=this.renderFillSegEls(t,n),a=0;a<n.length;a++)i=n[a],o=this.renderFillRow(t,i,r),this.rowEls.eq(i.row).append(o),s.push(o[0]);return this.elsByFill[t]=e(s),n},renderFillRow:function(t,n,r){var a,i,o=this.colCnt,s=n.leftCol,l=n.rightCol+1;return r=r||t.toLowerCase(),a=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),i=a.find("tr"),s>0&&i.append('<td colspan="'+s+'"/>'),i.append(n.el.attr("colspan",l-s)),o>l&&i.append('<td colspan="'+(o-l)+'"/>'),this.bookendCells(i,t),a}});ut.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),dt.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return dt.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return dt.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){e(r).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,r=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)r.push(this.renderSegRow(n,t[n]));return r},fgSegHtml:function(e,t){var n,r,a=this.view,i=e.event,o=a.isEventDraggable(i),s=!t&&i.allDay&&e.isStart&&a.isEventResizableFromStart(i),l=!t&&i.allDay&&e.isEnd&&a.isEventResizableFromEnd(i),d=this.getSegClasses(e,o,s||l),u=Q(this.getEventSkinCss(i)),c="";return d.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(i),n&&(c='<span class="fc-time">'+Z(n)+"</span>")),r='<span class="fc-title">'+(Z(i.title||"")||"&nbsp;")+"</span>",'<a class="'+d.join(" ")+'"'+(i.url?' href="'+Z(i.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+c:c+" "+r)+"</div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function r(t){for(;t>o;)u=(_[a-1]||[])[o],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=e("<td/>"),s.append(u)),g[a][o]=u,_[a][o]=u,o++}var a,i,o,s,l,d,u,c=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),p=e("<tbody/>"),m=[],g=[],_=[];for(a=0;f>a;a++){if(i=h[a],o=0,s=e("<tr/>"),m.push([]),g.push([]),_.push([]),i)for(l=0;l<i.length;l++){for(d=i[l],r(d.leftCol),u=e('<td class="fc-event-container"/>').append(d.el),d.leftCol!=d.rightCol?u.attr("colspan",d.rightCol-d.leftCol+1):_[a][o]=u;o<=d.rightCol;)g[a][o]=u,m[a][o]=d,o++;s.append(u)}r(c),this.bookendCells(s,"eventSkeleton"),p.append(s)}return{row:t,tbodyEl:p,cellMatrix:g,segMatrix:m,segLevels:h,segs:n}},buildSegLevels:function(e){var t,n,r,a=[];for(this.sortSegs(e),t=0;t<e.length;t++){for(n=e[t],r=0;r<a.length&&Le(n,a[r]);r++);n.level=r,(a[r]||(a[r]=[])).push(n)}for(r=0;r<a.length;r++)a[r].sort(Se);return a},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),ut.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,r=this.rowStructs||[];for(t=0;t<r.length;t++)this.unlimitRow(t),n=e?"number"==typeof e?e:this.computeRowLevelLimit(t):!1,n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){i=Math.max(i,e(n).outerHeight())}var r,a,i,o=this.rowEls.eq(t),s=o.height(),l=this.rowStructs[t].tbodyEl.children();for(r=0;r<l.length;r++)if(a=l.eq(r).removeClass("fc-limited"),i=0,a.find("> td > :first-child").each(n),a.position().top+i>s)return r;return!1},limitRow:function(t,n){function r(r){for(;r>w;)a=b.getCell(t,w),u=b.getCellSegs(a,n),u.length&&(f=o[n-1][w],v=b.renderMoreLink(a,u),y=e("<div/>").append(v),f.append(y),M.push(y[0])),w++}var a,i,o,s,l,d,u,c,h,f,p,m,g,_,y,v,b=this,T=this.rowStructs[t],M=[],w=0;if(n&&n<T.segLevels.length){for(i=T.segLevels[n-1],o=T.cellMatrix,s=T.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;l<i.length;l++){for(d=i[l],r(d.leftCol),h=[],c=0;w<=d.rightCol;)a=this.getCell(t,w),u=this.getCellSegs(a,n),h.push(u),c+=u.length,w++;if(c){for(f=o[n-1][d.leftCol],p=f.attr("rowspan")||1,m=[],g=0;g<h.length;g++)_=e('<td class="fc-more-cell"/>').attr("rowspan",p),u=h[g],a=this.getCell(t,d.leftCol+g),v=this.renderMoreLink(a,[d].concat(u)),y=e("<div/>").append(v),_.append(y),m.push(_[0]),M.push(_[0]);f.addClass("fc-limited").after(e(m)),s.push(f[0])}}r(this.colCnt),T.moreEls=e(M),T.limitedEls=e(s)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n){var r=this,a=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(i){var o=a.opt("eventLimitClick"),s=t.start,l=e(this),d=r.getCellDayEl(t),u=r.getCellSegs(t),c=r.resliceDaySegs(u,s),h=r.resliceDaySegs(n,s);"function"==typeof o&&(o=a.trigger("eventLimitClick",null,{date:s,dayEl:d,moreEl:l,segs:c,hiddenSegs:h},i)),"popover"===o?r.showSegPopover(t,l,c):"string"==typeof o&&a.calendar.zoomTo(s,o)})},showSegPopover:function(e,t,n){var r,a,i=this,o=this.view,s=t.parent();r=1==this.rowCnt?o.el:this.rowEls.eq(e.row),a={className:"fc-more-popover",content:this.renderSegPopoverContent(e,n),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:o.opt("popoverViewportConstrain"),hide:function(){i.segPopover.removeElement(),i.segPopover=null,i.popoverSegs=null}},this.isRTL?a.right=s.offset().left+s.outerWidth()+1:a.left=s.offset().left-1,this.segPopover=new nt(a),this.segPopover.show()},renderSegPopoverContent:function(t,n){var r,a=this.view,i=a.opt("theme"),o=t.start.format(a.opt("dayPopoverFormat")),s=e('<div class="fc-header '+a.widgetHeaderClass+'"><span class="fc-close '+(i?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+Z(o)+'</span><div class="fc-clear"/></div><div class="fc-body '+a.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=s.find(".fc-event-container");
for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,r=0;r<n.length;r++)n[r].cell=t,l.append(n[r].el);return s},resliceDaySegs:function(t,n){var r=e.map(t,function(e){return e.event}),a=n.clone().stripTime(),i=a.clone().add(1,"days"),o={start:a,end:i};return t=this.eventsToSegs(r,function(e){var t=C(e,o);return t?[t]:[]}),this.sortSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t){for(var n,r=this.rowStructs[e.row].segMatrix,a=t||0,i=[];a<r.length;)n=r[a][e.col],n&&i.push(n),a++;return i}});var ct=dt.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,colDates:null,labelFormat:null,labelInterval:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){dt.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(e),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(e){return this.bgCellHtml(e)},slatRowHtml:function(){for(var e,n,r,a=this.view,i=this.isRTL,o="",s=t.duration(+this.minTime);s<this.maxTime;)e=this.start.clone().time(s),n=te(N(s,this.labelInterval)),r='<td class="fc-axis fc-time '+a.widgetContentClass+'" '+a.axisStyleAttr()+">"+(n?"<span>"+Z(e.format(this.labelFormat))+"</span>":"")+"</td>",o+="<tr "+(n?"":'class="fc-minor"')+">"+(i?"":r)+'<td class="'+a.widgetContentClass+'"/>'+(i?r:"")+"</tr>",s.add(this.slotDuration);return o},processOptions:function(){var n,r=this.view,a=r.opt("slotDuration"),i=r.opt("snapDuration");a=t.duration(a),i=i?t.duration(i):a,this.slotDuration=a,this.snapDuration=i,this.cellDuration=i,this.minTime=t.duration(r.opt("minTime")),this.maxTime=t.duration(r.opt("maxTime")),n=r.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||r.opt("axisFormat")||r.opt("smallTimeFormat"),n=r.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(a)},computeLabelInterval:function(e){var n,r,a;for(n=Dt.length-1;n>=0;n--)if(r=t.duration(Dt[n]),a=N(r,e),te(a)&&a>1)return r;return t.duration(e)},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},rangeUpdated:function(){var e,t=this.view,n=[];for(e=this.start.clone();e.isBefore(this.end);)n.push(e.clone()),e.add(1,"day"),e=t.skipHiddenDays(e);this.isRTL&&n.reverse(),this.colDates=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(e){var t=this.colDates[e.col],n=this.computeSnapTime(e.row);return t=this.view.calendar.rezoneDate(t),t.time(n),t},getColEl:function(e){return this.dayEls.eq(e)},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},rangeToSegs:function(e){var t,n,r,a,i=this.colCnt,o=[];for(e={start:e.start.clone().stripZone(),end:e.end.clone().stripZone()},n=0;i>n;n++)r=this.colDates[n],a={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},t=C(e,a),t&&(t.col=n,o.push(t));return o},updateSize:function(e){this.computeSlatTops(),e&&this.updateSegVerticals()},computeRowCoords:function(){var e,t,n=this.el.offset().top,r=[];for(e=0;e<this.rowCnt;e++)t={top:n+this.computeTimeTop(this.computeSnapTime(e))},e>0&&(r[e-1].bottom=t.top),r.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(e)),r},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,r,a,i=(e-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(this.slatEls.length,i),t=Math.floor(i),n=i-t,r=this.slatTops[t],n?(a=this.slatTops[t+1],r+(a-r)*n):r},computeSlatTops:function(){var t,n=[];this.slatEls.each(function(r,a){t=e(a).position().top,n.push(t)}),n.push(t+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(e,t){return t?(this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.eventRangeToSegs(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){this.renderRangeHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,n){var r,a,i,o,s=this.eventsToSegs([t]);for(s=this.renderFgSegEls(s),r=this.renderSegTable(s),a=0;a<s.length;a++)i=s[a],n&&n.col===i.col&&(o=n.el,i.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=e('<div class="fc-helper-skeleton"/>').append(r).appendTo(this.el)},unrenderHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderRangeHelper(e):this.renderHighlight(this.selectionRangeToSegs(e))},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderFill:function(t,n,r){var a,i,o,s,l,d,u,c,h,f;if(n.length){for(n=this.renderFillSegEls(t,n),a=this.groupSegCols(n),r=r||t.toLowerCase(),i=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>'),o=i.find("tr"),s=0;s<a.length;s++)if(l=a[s],d=e("<td/>").appendTo(o),l.length)for(u=e('<div class="fc-'+r+'-container"/>').appendTo(d),c=this.colDates[s],h=0;h<l.length;h++)f=l[h],u.append(f.el.css({top:this.computeDateTop(f.start,c),bottom:-this.computeDateTop(f.end,c)}));this.bookendCells(o,t),this.el.append(i),this.elsByFill[t]=i}return n}});ct.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=e('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},unrenderFgSegs:function(e){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var n,r,a,i,o,s,l=e("<table><tr/></table>"),d=l.find("tr");for(n=this.groupSegCols(t),this.computeSegVerticals(t),i=0;i<n.length;i++){for(o=n[i],this.placeSlotSegs(o),s=e('<div class="fc-event-container"/>'),r=0;r<o.length;r++)a=o[r],a.el.css(this.generateSegPositionCss(a)),a.bottom-a.top<30&&a.el.addClass("fc-short"),s.append(a.el);d.append(e("<td/>").append(s))}return this.bookendCells(d,"eventSkeleton"),l},placeSlotSegs:function(e){var t,n,r;if(this.sortSegs(e),t=ke(e),xe(t),n=t[0]){for(r=0;r<n.length;r++)Ye(n[r]);for(r=0;r<n.length;r++)this.computeSlotSegCoords(n[r],0,0)}},computeSlotSegCoords:function(e,t,n){var r,a=e.forwardSegs;if(void 0===e.forwardCoord)for(a.length?(this.sortForwardSlotSegs(a),this.computeSlotSegCoords(a[0],t+1,n),e.forwardCoord=a[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<a.length;r++)this.computeSlotSegCoords(a[r],0,e.forwardCoord)},updateSegVerticals:function(){var e,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),e=0;e<t.length;e++)t[e].el.css(this.generateSegVerticalCss(t[e]))},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(e,t){var n,r,a,i=this.view,o=e.event,s=i.isEventDraggable(o),l=!t&&e.isStart&&i.isEventResizableFromStart(o),d=!t&&e.isEnd&&i.isEventResizableFromEnd(o),u=this.getSegClasses(e,s,l||d),c=Q(this.getEventSkinCss(o));return u.unshift("fc-time-grid-event","fc-v-event"),i.isMultiDayEvent(o)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),r=this.getEventTimeText(e,"LT"),a=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(o),r=this.getEventTimeText(o,"LT"),a=this.getEventTimeText(o,null,!1)),'<a class="'+u.join(" ")+'"'+(o.url?' href="'+Z(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Z(a)+'" data-full="'+Z(r)+'"><span>'+Z(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+Z(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(d?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(e){var t,n,r=this.view.opt("slotEventOverlap"),a=e.backwardCoord,i=e.forwardCoord,o=this.generateSegVerticalCss(e);return r&&(i=Math.min(1,a+2*(i-a))),this.isRTL?(t=1-i,n=a):(t=a,n=1-i),o.zIndex=e.level+1,o.left=100*t+"%",o.right=100*n+"%",r&&e.forwardPressure&&(o[this.isRTL?"marginLeft":"marginRight"]=20),o},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},groupSegCols:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},sortForwardSlotSegs:function(e){e.sort(ne(this,"compareForwardSlotSegs"))},compareForwardSlotSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareSegs(e,t)}});var ht=Pe.View=_e.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(e,n,r,a){this.calendar=e,this.type=this.name=n,this.options=r,this.intervalDuration=a||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=S(this.opt("eventOrder")),this.documentMousedownProxy=ne(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,r=R(this.intervalDuration),a=e.clone().startOf(r),i=a.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(a.stripTime(),i.stripTime()):(a.hasTime()||(a=this.calendar.rezoneDate(a)),i.hasTime()||(i=this.calendar.rezoneDate(i))),t=a.clone(),t=this.skipHiddenDays(t),n=i.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:r,intervalStart:a,intervalEnd:i,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var r=e.end;return r.hasTime()||(r=r.clone().subtract(1)),he(e.start,r,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var n=this,r=null;return this.displaying&&(r=this.queryScroll()),this.clear().then(function(){return n.displaying=e.when(n.displayView(t)).then(function(){n.forceScroll(n.computeInitialScroll(r)),n.triggerRender()})})},clear:function(){var t=this,n=this.displaying;return n?n.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours()},clearView:function(){this.unselect(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},renderBusinessHours:function(){},unrenderBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){e(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){e(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),e&&this.setScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},computeScrollerHeight:function(e){var t,n,r=this.scrollerEl;return t=this.el.add(r),t.css({position:"relative",left:-1}),n=this.el.outerHeight()-r.height(),t.css({position:"",left:""}),e-n},computeInitialScroll:function(e){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(e){return this.scrollerEl?this.scrollerEl.scrollTop(e):void 0},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.isEventsRendered=!1)},renderEvents:function(e){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var r=this.trigger("eventRender",t,t,n);return r===!1?n=null:r&&r!==!0&&(n=e(r)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,r=this.getEventSegs();for(n=0;n<r.length;n++)t&&r[n].event._id!==t._id||r[n].el&&e.call(this,r[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return V(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,r,a){var i=this.calendar,o=i.mutateEvent(e,t,n),s=function(){o.undo(),i.reportEventChange()};this.triggerEventDrop(e,o.dateDelta,s,r,a),i.reportEventChange()},triggerEventDrop:function(e,t,n,r,a){this.trigger("eventDrop",r[0],e,t,n,a,{})},reportExternalDrop:function(t,n,r,a,i){var o,s,l=t.eventProps;l&&(o=e.extend({},l,n),s=this.calendar.renderEvent(o,t.stick)[0]),this.triggerExternalDrop(s,n,r,a,i)},triggerExternalDrop:function(e,t,n,r,a){this.trigger("drop",n[0],t.start,r,a),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return V(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,r,a){var i=this.calendar,o=i.mutateEvent(e,t,n),s=function(){o.undo(),i.reportEventChange()};this.triggerEventResize(e,o.durationDelta,s,r,a),i.reportEventChange()},triggerEventResize:function(e,t,n,r,a){this.trigger("eventResize",r[0],e,t,n,a,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,e.start,e.end,t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},documentMousedown:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&T(t)&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},triggerDayClick:function(e,t,n){this.trigger("dayClick",t,e.start,n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],r=[],a=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;7>t;t++)(r[t]=-1!==e.inArray(t,n))||a++;if(!a)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var r=e.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(n?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),r=e.end,a=null;return r&&(a=r.clone().stripTime(),t=+r.time(),t&&t>=this.nextDayThreshold&&a.add(1,"days")),(!r||n>=a)&&(a=n.clone().add(1,"days")),{start:n,end:a}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),ft=Pe.Calendar=_e.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:He,initialize:function(){},initOptions:function(e){var t,a,i,o;e=r(e),t=e.lang,a=pt[t],a||(t=ft.defaults.lang,a=pt[t]||{}),i=V(e.isRTL,a.isRTL,ft.defaults.isRTL),o=i?ft.rtlDefaults:{},this.dirDefaults=o,this.langDefaults=a,this.overrides=e,this.options=n([ft.defaults,o,a,e]),je(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,r,a;if(-1!=e.inArray(t,$e))for(n=this.header.getViewsWithButtons(),e.each(Pe.views,function(e){n.push(e)}),r=0;r<n.length;r++)if(a=this.getViewSpec(n[r]),a&&a.singleUnit==t)return a},buildViewSpec:function(e){for(var r,a,i,o,s=this.overrides.views||{},l=[],d=[],u=[],c=e;c;)r=Ie[c],a=s[c],c=null,"function"==typeof r&&(r={"class":r}),r&&(l.unshift(r),d.unshift(r.defaults||{}),i=i||r.duration,c=c||r.type),a&&(u.unshift(a),i=i||a.duration,c=c||a.type);return r=z(l),r.type=e,r["class"]?(i&&(i=t.duration(i),i.valueOf()&&(r.duration=i,o=R(i),1===i.as(o)&&(r.singleUnit=o,u.unshift(s[o]||{})))),r.defaults=n(d),r.overrides=n(u),this.buildViewSpecOptions(r),this.buildViewSpecButtonText(r,e),r):!1},buildViewSpecOptions:function(e){e.options=n([ft.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),je(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var r=n.buttonText||{};return r[t]||(e.singleUnit?r[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(ft.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectRange:function(e,t){return e=this.moment(e),t=t?this.moment(t):e.hasTime()?e.clone().add(this.defaultTimedEventDuration):e.clone().add(this.defaultAllDayEventDuration),{start:e,end:t}}});ft.mixin(tt),ft.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ft.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ft.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var pt=Pe.langs={};Pe.datepickerLang=function(t,n,r){var a=pt[t]||(pt[t]={});a.isRTL=r.isRTL,a.weekNumberTitle=r.weekHeader,e.each(mt,function(e,t){a[e]=t(r)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=r,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(r))},Pe.lang=function(t,r){var a,i;a=pt[t]||(pt[t]={}),r&&(a=pt[t]=n([a,r])),i=Re(t),e.each(gt,function(e,t){null==a[e]&&(a[e]=t(i,a))}),ft.defaults.lang=t};var mt={buttonText:function(e){return{prev:X(e.prevText),next:X(e.nextText),today:X(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},gt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},_t={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};Pe.lang("en",ft.englishDefaults),Pe.sourceNormalizers=[],Pe.sourceFetchers=[];var yt={dataType:"json",cache:!1},vt=1;ft.prototype.getPeerEvents=function(e,t){var n,r,a=this.getEventCache(),i=[];for(n=0;n<a.length;n++)r=a[n],e&&e._id===r._id||i.push(r);return i};var bt=ht.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new ut(this),this.coordMap=this.dayGrid.coordMap},setRange:function(e){ht.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=ht.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+Z(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(e){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(e,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(e){var t,n=e.start;return this.dayNumbersVisible?(t=this.dayGrid.getDayClasses(n),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=u(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,r=this.opt("eventLimit");h(this.scrollerEl),i(this.headRowEl),this.dayGrid.removeSegPopover(),r&&"number"==typeof r&&this.dayGrid.limitRows(r),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),r&&"number"!=typeof r&&this.dayGrid.limitRows(r),!t&&c(this.scrollerEl,n)&&(a(this.headRowEl,_(this.scrollerEl)),n=this.computeScrollerHeight(e),this.scrollerEl.height(n))},setGridHeight:function(e,t){t?d(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Tt=bt.extend({computeRange:function(e){var t,n=bt.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});Ie.basic={"class":bt},Ie.basicDay={type:"basic",duration:{days:1}},Ie.basicWeek={type:"basic",duration:{weeks:1}},Ie.month={"class":Tt,duration:{months:1},defaults:{fixedWeekCount:!0}};var Mt=ht.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new ct(this),this.opt("allDaySlot")?(this.dayGrid=new ut(this),this.coordMap=new at([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(e){ht.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var e,t;return this.opt("weekNumbers")?(e=this.timeGrid.getCell(0).start,t=e.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+Z(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||Z(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(e){this.timeGrid.updateSize(e),ht.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=u(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),i(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=wt),n&&this.dayGrid.limitRows(n)),t||(r=this.computeScrollerHeight(e),c(this.scrollerEl,r)?(a(this.noScrollRowEls,_(this.scrollerEl)),r=this.computeScrollerHeight(e),this.scrollerEl.height(r)):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,n},renderEvents:function(e){var t,n,r=[],a=[],i=[];for(n=0;n<e.length;n++)e[n].allDay?r.push(e[n]):a.push(e[n]);t=this.timeGrid.renderEvents(a),this.dayGrid&&(i=this.dayGrid.renderEvents(r)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),wt=5,Dt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Ie.agenda={"class":Mt,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Ie.agendaDay={type:"agenda",duration:{days:1}},Ie.agendaWeek={type:"agenda",duration:{weeks:1}},Pe;
});