/*!
 * FullCalendar v2.4.0
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(e){return R(e,Je)}function a(t){var n,a={views:t.views||{}};return e.each(t,function(t,r){"views"!=t&&(e.isPlainObject(r)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,Je)?(n=null,e.each(r,function(e,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(a.views[e]||(a.views[e]={}),a.views[e][t]=r):(n||(n={}),n[e]=r)}),n&&(a[t]=n)):a[t]=r)}),a}function r(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function i(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function s(){e("body").addClass("fc-not-allowed")}function o(){e("body").removeClass("fc-not-allowed")}function d(t,n,a){var r=Math.floor(n/t.length),i=Math.floor(n-r*(t.length-1)),s=[],o=[],d=[],l=0;u(t),t.each(function(n,a){var u=n===t.length-1?i:r,m=e(a).outerHeight(!0);u>m?(s.push(a),o.push(m),d.push(e(a).height())):l+=m}),a&&(n-=l,r=Math.floor(n/s.length),i=Math.floor(n-r*(s.length-1))),e(s).each(function(t,n){var a=t===s.length-1?i:r,u=o[t],l=d[t],m=a-(u-l);a>u&&e(n).height(m)})}function u(e){e.height("")}function l(t){var n=0;return t.find("> *").each(function(t,a){var r=e(a).outerWidth();r>n&&(n=r)}),n++,t.width(n),n}function m(e,t){return e.height(t).addClass("fc-scroller"),e[0].scrollHeight-1>e[0].clientHeight?!0:(_(e),!1)}function _(e){e.height("").removeClass("fc-scroller")}function c(t){var n=t.css("position"),a=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&a.length?a:e(t[0].ownerDocument||document)}function h(e){var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function f(e){var t=e.offset(),n=M(e),a=t.left+g(e,"border-left-width")+n.left,r=t.top+g(e,"border-top-width")+n.top;return{left:a,right:a+e[0].clientWidth,top:r,bottom:r+e[0].clientHeight}}function p(e){var t=e.offset(),n=t.left+g(e,"border-left-width")+g(e,"padding-left"),a=t.top+g(e,"border-top-width")+g(e,"padding-top");return{left:n,right:n+e.width(),top:a,bottom:a+e.height()}}function M(e){var t=e.innerWidth()-e[0].clientWidth,n={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return y()&&"rtl"==e.css("direction")?n.left=t:n.right=t,n}function y(){return null===Oe&&(Oe=L()),Oe}function L(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),a=n.offset().left>t.offset().left;return t.remove(),a}function g(e,t){return parseFloat(e.css(t))||0}function T(e){return 1==e.which&&!e.ctrlKey}function Y(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function v(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function D(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function k(e,t){return{left:e.left-t.left,top:e.top-t.top}}function w(t){var n,a,r=[],i=[];for("string"==typeof t?i=t.split(/\s*,\s*/):"function"==typeof t?i=[t]:e.isArray(t)&&(i=t),n=0;n<i.length;n++)a=i[n],"string"==typeof a?r.push("-"==a.charAt(0)?{field:a.substring(1),order:-1}:{field:a,order:1}):"function"==typeof a&&r.push({func:a});return r}function b(e,t,n){var a,r;for(a=0;a<n.length;a++)if(r=S(e,t,n[a]))return r;return 0}function S(e,t,n){return n.func?n.func(e,t):x(e[n.field],t[n.field])*(n.order||1)}function x(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function j(e,t){var n,a,r,i,s=e.start,o=e.end,d=t.start,u=t.end;return o>d&&u>s?(s>=d?(n=s.clone(),r=!0):(n=d.clone(),r=!1),u>=o?(a=o.clone(),i=!0):(a=u.clone(),i=!1),{start:n,end:a,isStart:r,isEnd:i}):void 0}function H(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function C(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function E(e,n,a){return t.duration(Math.round(e.diff(n,a,!0)),a)}function N(e,t){var n,a,r;for(n=0;n<Ge.length&&(a=Ge[n],r=F(a,e,t),!(r>=1&&te(r)));n++);return a}function F(e,n,a){return null!=a?a.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function A(e,t,n){var a;return W(n)?(t-e)/n:(a=n.asMonths(),Math.abs(a)>=1&&te(a)?t.diff(e,"months",!0)/a:t.diff(e,"days",!0)/n.asDays())}function z(e,t){var n,a;return W(e)||W(t)?e/t:(n=e.asMonths(),a=t.asMonths(),Math.abs(n)>=1&&te(n)&&Math.abs(a)>=1&&te(a)?n/a:e.asDays()/t.asDays())}function P(e,n){var a;return W(e)?t.duration(e*n):(a=e.asMonths(),Math.abs(a)>=1&&te(a)?t.duration({months:a*n}):t.duration({days:e.asDays()*n}))}function W(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function J(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function O(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function R(e,t){var n,a,r,i,s,o,d={};if(t)for(n=0;n<t.length;n++){for(a=t[n],r=[],i=e.length-1;i>=0;i--)if(s=e[i][a],"object"==typeof s)r.unshift(s);else if(void 0!==s){d[a]=s;break}r.length&&(d[a]=R(r))}for(n=e.length-1;n>=0;n--){o=e[n];for(a in o)a in d||(d[a]=o[a])}return d}function G(e){var t=function(){};return t.prototype=e,new t}function q(e,t){for(var n in e)I(e,n)&&(t[n]=e[n])}function V(e,t){var n,a,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)a=r[n],e[a]!==Object.prototype[a]&&(t[a]=e[a])}function I(e,t){return Be.call(e,t)}function B(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function U(t,n,a){if(e.isFunction(t)&&(t=[t]),t){var r,i;for(r=0;r<t.length;r++)i=t[r].apply(n,a)||i;return i}}function Z(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function Q(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function K(e){return e.replace(/&.*?;/g,"")}function $(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function X(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e,t){return e-t}function te(e){return e%1===0}function ne(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function ae(e,t){var n,a,r,i,s=function(){var o=+new Date-i;t>o&&o>0?n=setTimeout(s,t-o):(n=null,e.apply(r,a),n||(r=a=null))};return function(){r=this,a=arguments,i=+new Date,n||(n=setTimeout(s,t))}}function re(n,a,r){var i,s,o,d,u=n[0],l=1==n.length&&"string"==typeof u;return t.isMoment(u)?(d=t.apply(null,n),se(u,d)):J(u)||void 0===u?d=t.apply(null,n):(i=!1,s=!1,l?Ue.test(u)?(u+="-01",n=[u],i=!0,s=!0):(o=Ze.exec(u))&&(i=!o[5],s=!0):e.isArray(u)&&(s=!0),d=a||i?t.utc.apply(t,n):t.apply(null,n),i?(d._ambigTime=!0,d._ambigZone=!0):r&&(s?d._ambigZone=!0:l&&(d.utcOffset?d.utcOffset(u):d.zone(u)))),d._fullCalendar=!0,d}function ie(e,n){var a,r,i=!1,s=!1,o=e.length,d=[];for(a=0;o>a;a++)r=e[a],t.isMoment(r)||(r=Pe.moment.parseZone(r)),i=i||r._ambigTime,s=s||r._ambigZone,d.push(r);for(a=0;o>a;a++)r=d[a],n||!i||r._ambigTime?s&&!r._ambigZone&&(d[a]=r.clone().stripZone()):d[a]=r.clone().stripTime();return d}function se(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function oe(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function de(e,t){return Ke.format.call(e,t)}function ue(e,t){return le(e,fe(t))}function le(e,t){var n,a="";for(n=0;n<t.length;n++)a+=me(e,t[n]);return a}function me(e,t){var n,a;return"string"==typeof t?t:(n=t.token)?$e[n]?$e[n](e):de(e,n):t.maybe&&(a=le(e,t.maybe),a.match(/[1-9]/))?a:""}function _e(e,t,n,a,r){var i;return e=Pe.moment.parseZone(e),t=Pe.moment.parseZone(t),i=(e.localeData||e.lang).call(e),n=i.longDateFormat(n)||n,a=a||" - ",ce(e,t,fe(n),a,r)}function ce(e,t,n,a,r){var i,s,o,d,u="",l="",m="",_="",c="";for(s=0;s<n.length&&(i=he(e,t,n[s]),i!==!1);s++)u+=i;for(o=n.length-1;o>s&&(i=he(e,t,n[o]),i!==!1);o--)l=i+l;for(d=s;o>=d;d++)m+=me(e,n[d]),_+=me(t,n[d]);return(m||_)&&(c=r?_+a+m:m+a+_),u+c+l}function he(e,t,n){var a,r;return"string"==typeof n?n:(a=n.token)&&(r=Xe[a.charAt(0)],r&&e.isSame(t,r))?de(e,a):!1}function fe(e){return e in et?et[e]:et[e]=pe(e)}function pe(e){for(var t,n=[],a=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=a.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:pe(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function Me(){}function ye(e,t){return e||t?e&&t?e.grid===t.grid&&e.row===t.row&&e.col===t.col:!1:!0}function Le(e){var t=Te(e);return"background"===t||"inverse-background"===t}function ge(e){return"inverse-background"===Te(e)}function Te(e){return Z((e.source||{}).rendering,e.rendering)}function Ye(e){var t,n,a={};for(t=0;t<e.length;t++)n=e[t],(a[n._id]||(a[n._id]=[])).push(n);return a}function ve(e,t){return e.eventStartMS-t.eventStartMS}function De(n){var a,r,i,s,o=Pe.dataAttrPrefix;return o&&(o+="-"),a=n.data(o+"event")||null,a&&(a="object"==typeof a?e.extend({},a):{},r=a.start,null==r&&(r=a.time),i=a.duration,s=a.stick,delete a.start,delete a.time,delete a.duration,delete a.stick),null==r&&(r=n.data(o+"start")),null==r&&(r=n.data(o+"time")),null==i&&(i=n.data(o+"duration")),null==s&&(s=n.data(o+"stick")),r=null!=r?t.duration(r):null,i=null!=i?t.duration(i):null,s=Boolean(s),{eventProps:a,startTime:r,duration:i,stick:s}}function ke(e,t){var n,a;for(n=0;n<t.length;n++)if(a=t[n],a.leftCol<=e.rightCol&&a.rightCol>=e.leftCol)return!0;return!1}function we(e,t){return e.leftCol-t.leftCol}function be(e){var t,n,a,r=[];for(t=0;t<e.length;t++){for(n=e[t],a=0;a<r.length&&je(n,r[a]).length;a++);n.level=a,(r[a]||(r[a]=[])).push(n)}return r}function Se(e){var t,n,a,r,i;for(t=0;t<e.length;t++)for(n=e[t],a=0;a<n.length;a++)for(r=n[a],r.forwardSegs=[],i=t+1;i<e.length;i++)je(r,e[i],r.forwardSegs)}function xe(e){var t,n,a=e.forwardSegs,r=0;if(void 0===e.forwardPressure){for(t=0;t<a.length;t++)n=a[t],xe(n),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function je(e,t,n){n=n||[];for(var a=0;a<t.length;a++)He(e,t[a])&&n.push(t[a]);return n}function He(e,t){return e.bottom>t.top&&e.top<t.bottom}function Ce(n,a){function r(){I?o()&&(l(),d()):i()}function i(){B=J.theme?"ui":"fc",n.addClass("fc"),J.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),J.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),I=e("<div class='fc-view-container'/>").prependTo(n),q=W.header=new Fe(W,J),V=q.render(),V&&n.prepend(V),d(J.defaultView),J.handleWindowResize&&(Q=ae(_,J.windowResizeDelay),e(window).resize(Q))}function s(){U&&U.removeElement(),q.removeElement(),I.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),Q&&e(window).unbind("resize",Q)}function o(){return n.is(":visible")}function d(t){ne++,U&&t&&U.type!==t&&(q.deactivateButton(U.type),E(),U.removeElement(),U=W.view=null),!U&&t&&(U=W.view=te[t]||(te[t]=W.instantiateView(t)),U.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(I)),q.activateButton(t)),U&&(K=U.massageCurrentDate(K),U.displaying&&K.isWithin(U.intervalStart,U.intervalEnd)||o()&&(E(),U.display(K),N(),g(),T(),p())),N(),ne--}function u(e){return o()?(e&&m(),ne++,U.updateSize(!0),ne--,!0):void 0}function l(){o()&&m()}function m(){Z="number"==typeof J.contentHeight?J.contentHeight:"number"==typeof J.height?J.height-(V?V.outerHeight(!0):0):Math.round(I.width()/Math.max(J.aspectRatio,.5))}function _(e){!ne&&e.target===window&&U.start&&u(!0)&&U.trigger("windowResize",ee)}function c(){f(),M()}function h(){o()&&(E(),U.displayEvents(re),N())}function f(){E(),U.clearEvents(),N()}function p(){!J.lazyFetching||$(U.start,U.end)?M():h()}function M(){X(U.start,U.end)}function y(e){re=e,h()}function L(){h()}function g(){q.updateTitle(U.title)}function T(){var e=W.getNow();e.isWithin(U.intervalStart,U.intervalEnd)?q.disableButton("today"):q.enableButton("today")}function Y(e,t){U.select(W.buildSelectRange.apply(W,arguments))}function v(){U&&U.unselect()}function D(){K=U.computePrevDate(K),d()}function k(){K=U.computeNextDate(K),d()}function w(){K.add(-1,"years"),d()}function b(){K.add(1,"years"),d()}function S(){K=W.getNow(),d()}function x(e){K=W.moment(e),d()}function j(e){K.add(t.duration(e)),d()}function H(e,t){var n;t=t||"day",n=W.getViewSpec(t)||W.getUnitViewSpec(t),K=e,d(n?n.type:null)}function C(){return K.clone()}function E(){I.css({width:"100%",height:I.height(),overflow:"hidden"})}function N(){I.css({width:"",height:"",overflow:""})}function F(){return W}function A(){return U}function z(e,t){return void 0===t?J[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(J[e]=t,u(!0)))}function P(e,t){var n=Array.prototype.slice.call(arguments,2);return t=t||ee,this.triggerWith(e,t,n),J[e]?J[e].apply(t,n):void 0}var W=this;W.initOptions(a||{});var J=this.options;W.render=r,W.destroy=s,W.refetchEvents=c,W.reportEvents=y,W.reportEventChange=L,W.rerenderEvents=h,W.changeView=d,W.select=Y,W.unselect=v,W.prev=D,W.next=k,W.prevYear=w,W.nextYear=b,W.today=S,W.gotoDate=x,W.incrementDate=j,W.zoomTo=H,W.getDate=C,W.getCalendar=F,W.getView=A,W.option=z,W.trigger=P;var O=G(Ne(J.lang));if(J.monthNames&&(O._months=J.monthNames),J.monthNamesShort&&(O._monthsShort=J.monthNamesShort),J.dayNames&&(O._weekdays=J.dayNames),J.dayNamesShort&&(O._weekdaysShort=J.dayNamesShort),null!=J.firstDay){var R=G(O._week);R.dow=J.firstDay,O._week=R}O._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(J.weekNumberCalculation),W.defaultAllDayEventDuration=t.duration(J.defaultAllDayEventDuration),W.defaultTimedEventDuration=t.duration(J.defaultTimedEventDuration),W.moment=function(){var e;return"local"===J.timezone?(e=Pe.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===J.timezone?Pe.moment.utc.apply(null,arguments):Pe.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=O:e._lang=O,e},W.getIsAmbigTimezone=function(){return"local"!==J.timezone&&"UTC"!==J.timezone},W.rezoneDate=function(e){return W.moment(e.toArray())},W.getNow=function(){var e=J.now;return"function"==typeof e&&(e=e()),W.moment(e)},W.getEventEnd=function(e){return e.end?e.end.clone():W.getDefaultEventEnd(e.allDay,e.start)},W.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(W.defaultAllDayEventDuration):n.add(W.defaultTimedEventDuration),W.getIsAmbigTimezone()&&n.stripZone(),n},W.humanizeDuration=function(e){return(e.locale||e.lang).call(e,J.lang).humanize()},Ae.call(W,J);var q,V,I,B,U,Z,Q,K,$=W.isFetchNeeded,X=W.fetchEvents,ee=n[0],te={},ne=0,re=[];K=null!=J.defaultDate?W.moment(J.defaultDate):W.getNow(),W.getSuggestedViewHeight=function(){return void 0===Z&&l(),Z},W.isHeightAuto=function(){return"auto"===J.contentHeight||"auto"===J.height},W.initialize()}function Ee(t){e.each(Mt,function(e,n){null==t[e]&&(t[e]=n(t))})}function Ne(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Fe(t,n){function a(){var t=n.header;return c=n.theme?"ui":"fc",t?h=e("<div class='fc-toolbar'/>").append(i("left")).append(i("right")).append(i("center")).append('<div class="fc-clear"/>'):void 0}function r(){h.remove(),h=e()}function i(a){var r=e('<div class="fc-'+a+'"/>'),i=n.header[a];return i&&e.each(i.split(" "),function(a){var i,s=e(),o=!0;e.each(this.split(","),function(a,r){var i,d,u,l,m,_,h,p,M,y;"title"==r?(s=s.add(e("<h2>&nbsp;</h2>")),o=!1):((i=(t.options.customButtons||{})[r])?(u=function(e){i.click&&i.click.call(y[0],e)},l="",m=i.text):(d=t.getViewSpec(r))?(u=function(){t.changeView(r)},f.push(r),l=d.buttonTextOverride,m=d.buttonTextDefault):t[r]&&(u=function(){t[r]()},l=(t.overrides.buttonText||{})[r],m=n.buttonText[r]),u&&(_=i?i.themeIcon:n.themeButtonIcons[r],h=i?i.icon:n.buttonIcons[r],p=l?Q(l):_&&n.theme?"<span class='ui-icon ui-icon-"+_+"'></span>":h&&!n.theme?"<span class='fc-icon fc-icon-"+h+"'></span>":Q(m),M=["fc-"+r+"-button",c+"-button",c+"-state-default"],y=e('<button type="button" class="'+M.join(" ")+'">'+p+"</button>").click(function(e){y.hasClass(c+"-state-disabled")||(u(e),(y.hasClass(c+"-state-active")||y.hasClass(c+"-state-disabled"))&&y.removeClass(c+"-state-hover"))}).mousedown(function(){y.not("."+c+"-state-active").not("."+c+"-state-disabled").addClass(c+"-state-down")}).mouseup(function(){y.removeClass(c+"-state-down")}).hover(function(){y.not("."+c+"-state-active").not("."+c+"-state-disabled").addClass(c+"-state-hover")},function(){y.removeClass(c+"-state-hover").removeClass(c+"-state-down")}),s=s.add(y)))}),o&&s.first().addClass(c+"-corner-left").end().last().addClass(c+"-corner-right").end(),s.length>1?(i=e("<div/>"),o&&i.addClass("fc-button-group"),i.append(s),r.append(i)):r.append(s)}),r}function s(e){h.find("h2").text(e)}function o(e){h.find(".fc-"+e+"-button").addClass(c+"-state-active")}function d(e){h.find(".fc-"+e+"-button").removeClass(c+"-state-active")}function u(e){h.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(c+"-state-disabled")}function l(e){h.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(c+"-state-disabled")}function m(){return f}var _=this;_.render=a,_.removeElement=r,_.updateTitle=s,_.activateButton=o,_.deactivateButton=d,_.disableButton=u,_.enableButton=l,_.getViewsWithButtons=m;var c,h=e(),f=[]}function Ae(n){function a(e,t){return!P||e.clone().stripZone()<P.clone().stripZone()||t.clone().stripZone()>W.clone().stripZone()}function r(e,t){P=e,W=t,I=[];var n=++q,a=G.length;V=a;for(var r=0;a>r;r++)i(G[r],n)}function i(t,n){s(t,function(a){var r,i,s,o=e.isArray(t.events);if(n==q){if(a)for(r=0;r<a.length;r++)i=a[r],s=o?i:y(i,t),s&&I.push.apply(I,v(s));V--,V||J(I)}})}function s(t,a){var r,i,o=Pe.sourceFetchers;for(r=0;r<o.length;r++){if(i=o[r].call(z,t,P.clone(),W.clone(),n.timezone,a),i===!0)return;if("object"==typeof i)return void s(i,a)}var d=t.events;if(d)e.isFunction(d)?(z.pushLoading(),d.call(z,P.clone(),W.clone(),n.timezone,function(e){a(e),z.popLoading()})):e.isArray(d)?a(d):a();else{var u=t.url;if(u){var l,m=t.success,_=t.error,c=t.complete;l=e.isFunction(t.data)?t.data():t.data;var h=e.extend({},l||{}),f=Z(t.startParam,n.startParam),p=Z(t.endParam,n.endParam),M=Z(t.timezoneParam,n.timezoneParam);f&&(h[f]=P.format()),p&&(h[p]=W.format()),n.timezone&&"local"!=n.timezone&&(h[M]=n.timezone),z.pushLoading(),e.ajax(e.extend({},yt,t,{data:h,success:function(t){t=t||[];var n=U(m,this,arguments);e.isArray(n)&&(t=n),a(t)},error:function(){U(_,this,arguments),a()},complete:function(){U(c,this,arguments),z.popLoading()}}))}else a()}}function o(e){var t=d(e);t&&(G.push(t),V++,i(t,q))}function d(t){var n,a,r=Pe.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return y(e,n)})),a=0;a<r.length;a++)r[a].call(z,n);return n}}function u(t){G=e.grep(G,function(e){return!l(e,t)}),I=e.grep(I,function(e){return!l(e.source,t)}),J(I)}function l(e,t){return e&&t&&m(e)==m(t)}function m(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function _(e){e.start=z.moment(e.start),e.end?e.end=z.moment(e.end):e.end=null,D(e,c(e)),J(I)}function c(t){var n={};return e.each(t,function(e,t){h(e)&&void 0!==t&&B(t)&&(n[e]=t)}),n}function h(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function f(e,t){var n,a,r,i=y(e);if(i){for(n=v(i),a=0;a<n.length;a++)r=n[a],r.source||(t&&(R.events.push(r),r.source=R),I.push(r));return J(I),n}return[]}function p(t){var n,a;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),I=e.grep(I,t,!0),a=0;a<G.length;a++)e.isArray(G[a].events)&&(G[a].events=e.grep(G[a].events,t,!0));J(I)}function M(t){return e.isFunction(t)?e.grep(I,t):null!=t?(t+="",e.grep(I,function(e){return e._id==t})):I}function y(a,r){var i,s,o,d={};if(n.eventDataTransform&&(a=n.eventDataTransform(a)),r&&r.eventDataTransform&&(a=r.eventDataTransform(a)),e.extend(d,a),r&&(d.source=r),d._id=a._id||(void 0===a.id?"_fc"+Lt++:a.id+""),a.className?"string"==typeof a.className?d.className=a.className.split(/\s+/):d.className=a.className:d.className=[],i=a.start||a.date,s=a.end,O(i)&&(i=t.duration(i)),O(s)&&(s=t.duration(s)),a.dow||t.isDuration(i)||t.isDuration(s))d.start=i?t.duration(i):null,d.end=s?t.duration(s):null,d._recurring=!0;else{if(i&&(i=z.moment(i),!i.isValid()))return!1;s&&(s=z.moment(s),s.isValid()||(s=null)),o=a.allDay,void 0===o&&(o=Z(r?r.allDayDefault:void 0,n.allDayDefault)),L(i,s,o,d)}return d}function L(e,t,n,a){a.start=e,a.end=t,a.allDay=n,g(a),ze(a)}function g(e){T(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(n.forceEventDuration?e.end=z.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function T(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=z.rezoneDate(e.start)),e.end&&!e.end.hasTime()&&(e.end=z.rezoneDate(e.end)))}function Y(t){var n;return t.end||(n=t.allDay,null==n&&(n=!t.start.hasTime()),t=e.extend({},t),t.end=z.getDefaultEventEnd(n,t.start)),t}function v(t,n,a){var r,i,s,o,d,u,l,m,_,c=[];if(n=n||P,a=a||W,t)if(t._recurring){if(i=t.dow)for(r={},s=0;s<i.length;s++)r[i[s]]=!0;for(o=n.clone().stripTime();o.isBefore(a);)(!r||r[o.day()])&&(d=t.start,u=t.end,l=o.clone(),m=null,d&&(l=l.time(d)),u&&(m=o.clone().time(u)),_=e.extend({},t),L(l,m,!d&&!u,_),c.push(_)),o.add(1,"days")}else c.push(t);return c}function D(t,n,a){function r(e,t){return a?E(e,t,a):n.allDay?C(e,t):H(e,t)}var i,s,o,d,u,l,m={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),g(n),i={start:t._start.clone(),end:t._end?t._end.clone():z.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},g(i),s=null!==t._end&&null===n.end,o=r(n.start,i.start),n.end?(d=r(n.end,i.end),u=d.subtract(o)):u=null,e.each(n,function(e,t){h(e)&&void 0!==t&&(m[e]=t)}),l=k(M(t._id),s,n.allDay,o,u,m),{dateDelta:o,durationDelta:u,undo:l}}function k(t,n,a,r,i,s){var o=z.getIsAmbigTimezone(),d=[];return r&&!r.valueOf()&&(r=null),i&&!i.valueOf()&&(i=null),e.each(t,function(t,u){var l,m;l={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},e.each(s,function(e){l[e]=u[e]}),m={start:u._start,end:u._end,allDay:a},g(m),n?m.end=null:i&&!m.end&&(m.end=z.getDefaultEventEnd(m.allDay,m.start)),r&&(m.start.add(r),m.end&&m.end.add(r)),i&&m.end.add(i),o&&!m.allDay&&(r||i)&&(m.start.stripZone(),m.end&&m.end.stripZone()),e.extend(u,s,m),ze(u),d.push(function(){e.extend(u,l),ze(u)})}),function(){for(var e=0;e<d.length;e++)d[e]()}}function w(t){var a,r=n.businessHours,i={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},s=z.getView();return r&&(a=e.extend({},i,"object"==typeof r?r:{})),a?(t&&(a.start=null,a.end=null),v(y(a),s.start,s.end)):[]}function b(e,t){var a=t.source||{},r=Z(t.constraint,a.constraint,n.eventConstraint),i=Z(t.overlap,a.overlap,n.eventOverlap);return e=Y(e),j(e,r,i,t)}function S(e){return j(e,n.selectConstraint,n.selectOverlap)}function x(t,n){var a,r;return n&&(a=e.extend({},n,t),r=v(y(a))[0]),r?b(t,r):(t=Y(t),S(t))}function j(t,n,a,r){var i,s,o,d,u,l;if(t=e.extend({},t),t.start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=n){for(i=N(n),s=!1,d=0;d<i.length;d++)if(F(i[d],t)){s=!0;break}if(!s)return!1}for(o=z.getPeerEvents(r,t),d=0;d<o.length;d++)if(u=o[d],A(u,t)){if(a===!1)return!1;if("function"==typeof a&&!a(u,r))return!1;if(r){if(l=Z(u.overlap,(u.source||{}).overlap),l===!1)return!1;if("function"==typeof l&&!l(r,u))return!1}}return!0}function N(e){return"businessHours"===e?w():"object"==typeof e?v(y(e)):M(e)}function F(e,t){var n=e.start.clone().stripZone(),a=z.getEventEnd(e).stripZone();return t.start>=n&&t.end<=a}function A(e,t){var n=e.start.clone().stripZone(),a=z.getEventEnd(e).stripZone();return t.start<a&&t.end>n}var z=this;z.isFetchNeeded=a,z.fetchEvents=r,z.addEventSource=o,z.removeEventSource=u,z.updateEvent=_,z.renderEvent=f,z.removeEvents=p,z.clientEvents=M,z.mutateEvent=D,z.normalizeEventRange=g,z.normalizeEventRangeTimes=T,z.ensureVisibleEventRange=Y;var P,W,J=z.reportEvents,R={events:[]},G=[R],q=0,V=0,I=[];e.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(e,t){var n=d(t);n&&G.push(n)}),z.getBusinessHoursEvents=w,z.isEventRangeAllowed=b,z.isSelectionRangeAllowed=S,z.isExternalDropRangeAllowed=x,z.getEventCache=function(){return I}}function ze(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Pe=e.fullCalendar={version:"2.4.0"},We=Pe.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),a=this;return this.each(function(r,i){var s,o=e(i),d=o.data("fullCalendar");"string"==typeof t?d&&e.isFunction(d[t])&&(s=d[t].apply(d,n),r||(a=s),"destroy"===t&&o.removeData("fullCalendar")):d||(d=new ct(o,t),o.data("fullCalendar",d),d.render())}),a};var Je=["header","buttonText","buttonIcons","themeButtonIcons"];Pe.intersectionToSeg=j,Pe.applyAll=U,Pe.debounce=ae,Pe.isInt=te,Pe.htmlEscape=Q,Pe.cssToStr=$,Pe.proxy=ne,Pe.capitaliseFirstLetter=X,Pe.getClientRect=f,Pe.getContentRect=p,Pe.getScrollbarWidths=M;var Oe=null;Pe.intersectRects=Y,Pe.parseFieldSpecs=w,Pe.compareByFieldSpecs=b,Pe.compareByFieldSpec=S,Pe.flexibleCompare=x,Pe.computeIntervalUnit=N,Pe.divideRangeByDuration=A,Pe.divideDurationByDuration=z,Pe.multiplyDuration=P,Pe.durationHasTime=W;var Re=["sun","mon","tue","wed","thu","fri","sat"],Ge=["year","month","week","day","hour","minute","second","millisecond"];Pe.log=function(){var e=window.console;return e&&e.log?e.log.apply(e,arguments):void 0},Pe.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):Pe.log.apply(Pe,arguments)};var qe,Ve,Ie,Be={}.hasOwnProperty,Ue=/^\s*\d{4}-\d\d$/,Ze=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Qe=t.fn,Ke=e.extend({},Qe);Pe.moment=function(){return re(arguments)},Pe.moment.utc=function(){var e=re(arguments,!0);return e.hasTime()&&e.utc(),e},Pe.moment.parseZone=function(){return re(arguments,!0,!0)},Qe.clone=function(){var e=Ke.clone.apply(this,arguments);return se(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},Qe.week=Qe.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?Ke.isoWeek.apply(this,arguments):Ke.week.apply(this,arguments)},Qe.time=function(e){if(!this._fullCalendar)return Ke.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Qe.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),Ve(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Qe.hasTime=function(){return!this._ambigTime},Qe.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),Ve(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},Qe.hasZone=function(){return!this._ambigZone},Qe.local=function(){var e=this.toArray(),t=this._ambigZone;return Ke.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&Ie(this,e),this},Qe.utc=function(){return Ke.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){Ke[t]&&(Qe[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),Ke[t].apply(this,arguments)})}),Qe.format=function(){return this._fullCalendar&&arguments[0]?ue(this,arguments[0]):this._ambigTime?de(this,"YYYY-MM-DD"):this._ambigZone?de(this,"YYYY-MM-DD[T]HH:mm:ss"):Ke.format.apply(this,arguments)},Qe.toISOString=function(){return this._ambigTime?de(this,"YYYY-MM-DD"):this._ambigZone?de(this,"YYYY-MM-DD[T]HH:mm:ss"):Ke.toISOString.apply(this,arguments)},Qe.isWithin=function(e,t){var n=ie([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},Qe.isSame=function(e,t){var n;return this._fullCalendar?t?(n=ie([this,e],!0),Ke.isSame.call(n[0],n[1],t)):(e=Pe.moment.parseZone(e),Ke.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):Ke.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){Qe[t]=function(e,n){var a;return this._fullCalendar?(a=ie([this,e]),Ke[t].call(a[0],a[1],n)):Ke[t].apply(this,arguments)}}),qe="_d"in t()&&"updateOffset"in t,Ve=qe?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:oe,Ie=qe?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:oe;var $e={t:function(e){return de(e,"a").charAt(0)},T:function(e){return de(e,"A").charAt(0)}};Pe.formatRange=_e;var Xe={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},et={};Pe.Class=Me,Me.extend=function(e){var t,n=this;return e=e||{},I(e,"constructor")&&(t=e.constructor),"function"!=typeof t&&(t=e.constructor=function(){n.apply(this,arguments)}),t.prototype=G(n.prototype),q(e,t.prototype),V(e,t.prototype),q(n,t),t},Me.mixin=function(e){q(e.prototype||e,this.prototype)};var tt=Pe.Emitter=Me.extend({callbackHash:null,on:function(e,t){return this.getCallbacks(e).add(t),this},off:function(e,t){return this.getCallbacks(e).remove(t),this},trigger:function(e){var t=Array.prototype.slice.call(arguments,1);return this.triggerWith(e,this,t),this},triggerWith:function(e,t,n){var a=this.getCallbacks(e);return a.fireWith(t,n),this},getCallbacks:function(t){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[t],n||(n=this.callbackHash[t]=e.Callbacks()),n}}),nt=Me.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&e(document).on("mousedown",this.documentMousedownProxy=ne(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,n,a,r,i,s=this.options,o=this.el.offsetParent().offset(),d=this.el.outerWidth(),u=this.el.outerHeight(),l=e(window),m=c(this.el);r=s.top||0,i=void 0!==s.left?s.left:void 0!==s.right?s.right-d:0,m.is(window)||m.is(document)?(m=l,t=0,n=0):(a=m.offset(),t=a.top,n=a.left),t+=l.scrollTop(),n+=l.scrollLeft(),s.viewportConstrain!==!1&&(r=Math.min(r,t+m.outerHeight()-u-this.margin),r=Math.max(r,t+this.margin),i=Math.min(i,n+m.outerWidth()-d-this.margin),i=Math.max(i,n+this.margin)),this.el.css({top:r-o.top,left:i-o.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),at=Me.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(e){this.grid=e},build:function(){this.grid.build(),this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.grid.clear(),this.rowCoords=null,this.colCoords=null},getCell:function(t,n){var a,r,i,s=this.rowCoords,o=s.length,d=this.colCoords,u=d.length,l=null,m=null;if(this.inBounds(t,n)){for(a=0;o>a;a++)if(r=s[a],n>=r.top&&n<r.bottom){l=a;break}for(a=0;u>a;a++)if(r=d[a],t>=r.left&&t<r.right){m=a;break}if(null!==l&&null!==m)return i=this.grid.getCell(l,m),i.grid=this.grid,e.extend(i,s[l],d[m]),i}return null},computeBounds:function(){this.bounds=this.containerEl?f(this.containerEl):null;
},inBounds:function(e,t){var n=this.bounds;return n?e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom:!0}}),rt=Me.extend({coordMaps:null,constructor:function(e){this.coordMaps=e},build:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].build()},getCell:function(e,t){var n,a=this.coordMaps,r=null;for(n=0;n<a.length&&!r;n++)r=a[n].getCell(e,t);return r},clear:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].clear()}}),it=Pe.DragListener=Me.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function(e){T(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function(t){var n;this.isListening||(t&&this.options.scroll&&(n=c(e(t.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=ae(ne(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")).on("mouseup",this.mouseupProxy=ne(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(e){this.trigger("listenStart",e)},mousemove:function(e){var t,n,a=e.pageX-this.originX,r=e.pageY-this.originY;this.isDragging||(t=this.options.distance||1,n=a*a+r*r,n>=t*t&&this.startDrag(e)),this.isDragging&&this.drag(a,r,e)},startDrag:function(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function(e){var t=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(e,t,n){this.trigger("drag",e,t,n),this.updateScroll(n)},mouseup:function(e){this.stopListening(e)},stopDrag:function(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function(e){var t=this;this.trigger("dragStop",e),setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(e){this.trigger("listenStop",e)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;this.scrollBounds=e?h(e):null},updateScroll:function(e){var t,n,a,r,i=this.scrollSensitivity,s=this.scrollBounds,o=0,d=0;s&&(t=(i-(e.pageY-s.top))/i,n=(i-(s.bottom-e.pageY))/i,a=(i-(e.pageX-s.left))/i,r=(i-(s.right-e.pageX))/i,t>=0&&1>=t?o=t*this.scrollSpeed*-1:n>=0&&1>=n&&(o=n*this.scrollSpeed),a>=0&&1>=a?d=a*this.scrollSpeed*-1:r>=0&&1>=r&&(d=r*this.scrollSpeed)),this.setScrollVel(o,d)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(ne(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),st=it.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(e,t){it.prototype.constructor.call(this,t),this.coordMap=e},listenStart:function(e){var t,n,a,r=this.subjectEl;it.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(n={left:e.pageX,top:e.pageY},a=n,r&&(t=h(r),a=v(a,t)),this.origCell=this.getCell(a.left,a.top),r&&this.options.subjectCenter&&(this.origCell&&(t=Y(this.origCell,t)||t),a=D(t)),this.coordAdjust=k(a,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(e){var t;it.prototype.dragStart.apply(this,arguments),t=this.getCell(e.pageX,e.pageY),t&&this.cellOver(t)},drag:function(e,t,n){var a;it.prototype.drag.apply(this,arguments),a=this.getCell(n.pageX,n.pageY),ye(a,this.cell)||(this.cell&&this.cellOut(),a&&this.cellOver(a))},dragStop:function(){this.cellDone(),it.prototype.dragStop.apply(this,arguments)},cellOver:function(e){this.cell=e,this.trigger("cellOver",e,ye(e,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){it.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){it.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.coordMap.getCell(e,t)}}),ot=Me.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),e(document).on("mousemove",this.mousemoveProxy=ne(this,"mousemove")))},stop:function(t,n){function a(){this.isAnimating=!1,r.removeElement(),this.top0=this.left0=null,n&&n()}var r=this,i=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,e(document).off("mousemove",this.mousemoveProxy),t&&i&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:i,complete:a})):a())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),dt=Me.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL")},rowHtml:function(e,t){var n,a,r=this.getHtmlRenderer("cell",e),i="";for(t=t||0,n=0;n<this.colCnt;n++)a=this.getCell(t,n),i+=r(a);return i=this.bookendCells(i,e,t),"<tr>"+i+"</tr>"},bookendCells:function(e,t,n){var a=this.getHtmlRenderer("intro",t)(n||0),r=this.getHtmlRenderer("outro",t)(n||0),i=this.isRTL?r:a,s=this.isRTL?a:r;return"string"==typeof e?i+e+s:e.prepend(i).append(s)},getHtmlRenderer:function(e,t){var n,a,r,i,s=this.view;return n=e+"Html",t&&(a=t+X(e)+"Html"),a&&(i=s[a])?r=s:a&&(i=this[a])?r=this:(i=s[n])?r=s:(i=this[n])&&(r=this),"function"==typeof i?function(){return i.apply(r,arguments)||""}:function(){return i||""}}}),ut=Pe.Grid=dt.extend({start:null,end:null,rowCnt:0,colCnt:0,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){dt.apply(this,arguments),this.coordMap=new at(this),this.elsByFill={},this.externalDragStartProxy=ne(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.colHeadFormat=n.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),e=n.opt("displayEventTime"),null==e&&(e=this.computeDisplayEventTime()),t=n.opt("displayEventEnd"),null==t&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},build:function(){},clear:function(){},rangeToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?E(e,t,this.largeUnit):H(e,t)},getCell:function(t,n){var a;return null==n&&("number"==typeof t?(n=t%this.colCnt,t=Math.floor(t/this.colCnt)):(n=t.col,t=t.row)),a={row:t,col:n},e.extend(a,this.getRowData(t),this.getColData(n)),e.extend(a,this.computeCellRange(a)),a},computeCellRange:function(e){var t=this.computeCellDate(e);return{start:t,end:t.clone().add(this.cellDuration)}},computeCellDate:function(e){},getRowData:function(e){return{}},getColData:function(e){return{}},getRowEl:function(e){},getColEl:function(e){},getCellDayEl:function(e){return this.getColEl(e.col)||this.getRowEl(e.row)},computeRowCoords:function(){var e,t,n,a=[];for(e=0;e<this.rowCnt;e++)t=this.getRowEl(e),n=t.offset().top,a.push({top:n,bottom:n+t.outerHeight()});return a},computeColCoords:function(){var e,t,n,a=[];for(e=0;e<this.colCnt;e++)t=this.getColEl(e),n=t.offset().left,a.push({left:n,right:n+t.outerWidth()});return a},setElement:function(t){var n=this;this.el=t,t.on("mousedown",function(t){e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length||n.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){e(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){e(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(e){var t,n,a=this,r=this.view,i=r.opt("selectable"),d=new st(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(e,r,o){o&&(t=r?e:null,i&&(n=a.computeSelection(o,e),n?a.renderSelection(n):s()))},cellOut:function(e){t=null,n=null,a.unrenderSelection(),o()},listenStop:function(e){t&&r.triggerDayClick(t,a.getCellDayEl(t),e),n&&r.reportSelection(n,e),o()}});d.mousedown(e)},renderRangeHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?G(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(this.selectionRangeToSegs(e))},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n,a=[e.start,e.end,t.start,t.end];return a.sort(ee),n={start:a[0].clone(),end:a[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},selectionRangeToSegs:function(e){return this.rangeToSegs(e)},renderHighlight:function(e){this.renderFill("highlight",e)},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var a,r=this,i=this[t+"SegEl"],s="",o=[];if(n.length){for(a=0;a<n.length;a++)s+=this.fillSegHtml(t,n[a]);e(s).each(function(t,a){var s=n[t],d=e(a);i&&(d=i.call(r,s,d)),d&&(d=e(d),d.is(r.fillSegTag)&&(s.el=d,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],a=this[e+"SegCss"],r=n?n.call(this,t):[],i=$(a?a.call(this,t):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(i?' style="'+i+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(e){var t=this.view,n=e.start;return'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+Re[n.day()]+'">'+Q(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(e){var t=this.view,n=e.start,a=this.getDayClasses(n);return a.unshift("fc-day",t.widgetContentClass),'<td class="'+a.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow().stripTime(),a=["fc-"+Re[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&a.push("fc-other-month"),e.isSame(n,"day")?a.push("fc-today",t.highlightStateClass):n>e?a.push("fc-past"):a.push("fc-future"),a}});ut.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n,a=this.eventsToSegs(e),r=[],i=[];for(t=0;t<a.length;t++)n=a[t],Le(n.event)?r.push(n):i.push(n);r=this.renderBgSegs(r)||r,i=this.renderFgSegs(i)||i,this.segs=r.concat(i)},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var a,r=this.view,i="",s=[];if(t.length){for(a=0;a<t.length;a++)i+=this.fgSegHtml(t[a],n);e(i).each(function(n,a){var i=t[n],o=r.resolveEventEl(i.event,e(a));o&&(o.data("fc-seg",i),i.el=o,s.push(i))})}return s},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){var t=this.view,n=e.event,a=n.source||{};return{"background-color":n.backgroundColor||n.color||a.backgroundColor||a.color||t.opt("eventBackgroundColor")||t.opt("eventColor")}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(a,r){e(r.target).is(".fc-resizer")&&n.isEventResizable(a.event)?t.segResizeMousedown(a,r,e(r.target).is(".fc-start-resizer")):n.isEventDraggable(a.event)&&t.segDragMousedown(a,r)}},function(n,a){t.el.on(n,".fc-event-container > *",function(n){var r=e(this).data("fc-seg");return!r||t.isDraggingSeg||t.isResizingSeg?void 0:a.call(this,r,n)})})},triggerSegMouseover:function(e,t){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,t))},triggerSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,t))},segDragMousedown:function(e,t){var n,a=this,r=this.view,i=r.calendar,d=e.el,u=e.event,l=new ot(e.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),m=new st(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),subjectEl:d,subjectCenter:!0,listenStart:function(e){l.hide(),l.start(e)},dragStart:function(t){a.triggerSegMouseout(e,t),a.segDragStart(e,t),r.hideEvent(u)},cellOver:function(t,o,d){e.cell&&(d=e.cell),n=a.computeEventDrop(d,t,u),n&&!i.isEventRangeAllowed(n,u)&&(s(),n=null),n&&r.renderDrag(n,e)?l.hide():l.show(),o&&(n=null)},cellOut:function(){r.unrenderDrag(),l.show(),n=null},cellDone:function(){o()},dragStop:function(t){l.stop(!n,function(){r.unrenderDrag(),r.showEvent(u),a.segDragStop(e,t),n&&r.reportEventDrop(u,n,this.largeUnit,d,t)})},listenStop:function(){l.stop()}});m.mousedown(t)},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var a,r,i=this.view.calendar,s=e.start,o=t.start;return s.hasTime()===o.hasTime()?(a=this.diffDates(o,s),n.allDay&&W(a)?(r={start:n.start.clone(),end:i.getEventEnd(n),allDay:!1},i.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(a),r.end&&r.end.add(a)):r={start:o.clone(),end:null,allDay:!o.hasTime()},r},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var a,r,i=this.view;i.opt("droppable")&&(a=e((n?n.item:null)||t.target),r=i.opt("dropAccept"),(e.isFunction(r)?r.call(a[0],a):a.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(a,t,n)))},listenToExternalDrag:function(e,t,n){var a,r,i=this,d=De(e);a=new st(this.coordMap,{listenStart:function(){i.isDraggingExternal=!0},cellOver:function(e){r=i.computeExternalDrop(e,d),r?i.renderDrag(r):s()},cellOut:function(){r=null,i.unrenderDrag(),o()},dragStop:function(){i.unrenderDrag(),o(),r&&i.view.reportExternalDrop(d,r,e,t,n)},listenStop:function(){i.isDraggingExternal=!1}}),a.startDrag(t)},computeExternalDrop:function(e,t){var n={start:e.start.clone(),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),this.view.calendar.isExternalDropRangeAllowed(n,t.eventProps)?n:null},renderDrag:function(e,t){},unrenderDrag:function(){},segResizeMousedown:function(e,t,n){var a,r,i=this,d=this.view,u=d.calendar,l=e.el,m=e.event,_=u.getEventEnd(m);a=new st(this.coordMap,{distance:5,scroll:d.opt("dragScroll"),subjectEl:l,dragStart:function(t){i.triggerSegMouseout(e,t),i.segResizeStart(e,t)},cellOver:function(t,a,o){r=n?i.computeEventStartResize(o,t,m):i.computeEventEndResize(o,t,m),r&&(u.isEventRangeAllowed(r,m)?r.start.isSame(m.start)&&r.end.isSame(_)&&(r=null):(s(),r=null)),r&&(d.hideEvent(m),i.renderEventResize(r,e))},cellOut:function(){r=null},cellDone:function(){i.unrenderEventResize(),d.showEvent(m),o()},dragStop:function(t){i.segResizeStop(e,t),r&&d.reportEventResize(m,r,this.largeUnit,l,t)}}),a.mousedown(t)},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,a){var r,i,s=this.view.calendar,o=this.diffDates(n[e],t[e]);return r={start:a.start.clone(),end:s.getEventEnd(a),allDay:a.allDay},r.allDay&&W(o)&&(r.allDay=!1,s.normalizeEventRangeTimes(r)),r[e].add(o),r.start.isBefore(r.end)||(i=a.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<i&&(i=this.cellDuration),"start"==e?r.start=r.end.clone().subtract(i):r.end=r.start.clone().add(i)),r},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var a=e.event,r=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(a.className,a.source?a.source.className:[]);return t&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(e){var t=this.view,n=e.source||{},a=e.color,r=n.color,i=t.opt("eventColor");return{"background-color":e.backgroundColor||a||n.backgroundColor||r||t.opt("eventBackgroundColor")||i,"border-color":e.borderColor||a||n.borderColor||r||t.opt("eventBorderColor")||i,color:e.textColor||n.textColor||t.opt("eventTextColor")}},eventsToSegs:function(e,t){var n,a=this.eventsToRanges(e),r=[];for(n=0;n<a.length;n++)r.push.apply(r,this.eventRangeToSegs(a[n],t));return r},eventsToRanges:function(t){var n=this,a=Ye(t),r=[];return e.each(a,function(e,t){t.length&&r.push.apply(r,ge(t[0])?n.eventsToInverseRanges(t):n.eventsToNormalRanges(t))}),r},eventsToNormalRanges:function(e){var t,n,a,r,i=this.view.calendar,s=[];for(t=0;t<e.length;t++)n=e[t],a=n.start.clone().stripZone(),r=i.getEventEnd(n).stripZone(),s.push({event:n,start:a,end:r,eventStartMS:+a,eventDurationMS:r-a});return s},eventsToInverseRanges:function(e){var t,n,a=this.view,r=a.start.clone().stripZone(),i=a.end.clone().stripZone(),s=this.eventsToNormalRanges(e),o=[],d=e[0],u=r;for(s.sort(ve),t=0;t<s.length;t++)n=s[t],n.start>u&&o.push({event:d,start:u,end:n.start}),u=n.end;return i>u&&o.push({event:d,start:u,end:i}),o},eventRangeToSegs:function(e,t){var n,a,r;for(e=this.view.calendar.ensureVisibleEventRange(e),n=t?t(e):this.rangeToSegs(e),a=0;a<n.length;a++)r=n[a],r.event=e.event,r.eventStartMS=e.eventStartMS,r.eventDurationMS=e.eventDurationMS;return n},sortSegs:function(e){e.sort(ne(this,"compareSegs"))},compareSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||b(e.event,t.event,this.view.eventOrderSpecs)}}),Pe.dataAttrPrefix="";var lt=ut.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){ut.apply(this,arguments),this.cellDuration=t.duration(1,"day")},renderDates:function(e){var t,n,a,r=this.view,i=this.rowCnt,s=this.colCnt,o=i*s,d="";for(t=0;i>t;t++)d+=this.dayRowHtml(t,e);for(this.el.html(d),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;o>n;n++)a=this.getCell(n),r.trigger("dayRender",null,a.start,this.dayEls.eq(n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},dayRowHtml:function(e,t){var n=this.view,a=["fc-row","fc-week",n.widgetContentClass];return t&&a.push("fc-rigid"),'<div class="'+a.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",e)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(e){return this.bgCellHtml(e)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){var e,t,n,a;if(this.updateCellDates(),e=this.cellDates,this.breakOnWeeks){for(t=e[0].day(),a=1;a<e.length&&e[a].day()!=t;a++);n=Math.ceil(e.length/a)}else n=1,a=e.length;this.rowCnt=n,this.colCnt=a},updateCellDates:function(){for(var e=this.view,t=this.start.clone(),n=[],a=-1,r=[];t.isBefore(this.end);)e.isHiddenDay(t)?r.push(a+.5):(a++,r.push(a),n.push(t.clone())),t.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(e){var t=this.colCnt,n=e.row*t+(this.isRTL?t-e.col-1:e.col);return this.cellDates[n].clone()},getRowEl:function(e){return this.rowEls.eq(e)},getColEl:function(e){return this.dayEls.eq(e)},getCellDayEl:function(e){return this.dayEls.eq(e.row*this.colCnt+e.col)},computeRowCoords:function(){var e=ut.prototype.computeRowCoords.call(this);return e[e.length-1].bottom+=this.bottomCoordPadding,e},rangeToSegs:function(e){var t,n,a,r,i,s,o,d,u,l,m=this.isRTL,_=this.rowCnt,c=this.colCnt,h=[];for(e=this.view.computeDayRange(e),t=this.dateToCellOffset(e.start),n=this.dateToCellOffset(e.end.subtract(1,"days")),a=0;_>a;a++)r=a*c,i=r+c-1,d=Math.max(r,t),u=Math.min(i,n),d=Math.ceil(d),u=Math.floor(u),u>=d&&(s=d===t,o=u===n,d-=r,u-=r,l={row:a,isStart:s,isEnd:o},m?(l.leftCol=c-u-1,l.rightCol=c-d-1):(l.leftCol=d,l.rightCol=u),h.push(l));return h},dateToCellOffset:function(e){var t=this.dayToCellOffsets,n=e.diff(this.start,"days");return 0>n?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},renderDrag:function(e,t){return this.renderHighlight(this.eventRangeToSegs(e)),t&&!t.el.closest(this.el).length?(this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){this.renderHighlight(this.eventRangeToSegs(e)),this.renderRangeHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var a,r=[],i=this.eventsToSegs([t]);i=this.renderFgSegEls(i),a=this.renderSegRows(i),this.rowEls.each(function(t,i){var s,o=e(i),d=e('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===t?n.el.position().top:o.find(".fc-content-skeleton tbody").position().top,d.css("top",s).find("table").append(a[t].tbodyEl),o.append(d),r.push(d[0])}),this.helperEls=e(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,a){var r,i,s,o=[];for(n=this.renderFillSegEls(t,n),r=0;r<n.length;r++)i=n[r],s=this.renderFillRow(t,i,a),this.rowEls.eq(i.row).append(s),o.push(s[0]);return this.elsByFill[t]=e(o),n},renderFillRow:function(t,n,a){var r,i,s=this.colCnt,o=n.leftCol,d=n.rightCol+1;return a=a||t.toLowerCase(),r=e('<div class="fc-'+a+'-skeleton"><table><tr/></table></div>'),i=r.find("tr"),o>0&&i.append('<td colspan="'+o+'"/>'),i.append(n.el.attr("colspan",d-o)),s>d&&i.append('<td colspan="'+(s-d)+'"/>'),this.bookendCells(i,t),r}});lt.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),ut.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return ut.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return ut.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,a){e(a).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,a=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)a.push(this.renderSegRow(n,t[n]));return a},fgSegHtml:function(e,t){var n,a,r=this.view,i=e.event,s=r.isEventDraggable(i),o=!t&&i.allDay&&e.isStart&&r.isEventResizableFromStart(i),d=!t&&i.allDay&&e.isEnd&&r.isEventResizableFromEnd(i),u=this.getSegClasses(e,s,o||d),l=$(this.getEventSkinCss(i)),m="";return u.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(i),n&&(m='<span class="fc-time">'+Q(n)+"</span>")),a='<span class="fc-title">'+(Q(i.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(i.url?' href="'+Q(i.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?a+" "+m:m+" "+a)+"</div>"+(o?'<div class="fc-resizer fc-start-resizer" />':"")+(d?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function a(t){for(;t>s;)l=(M[r-1]||[])[s],l?l.attr("rowspan",parseInt(l.attr("rowspan")||1,10)+1):(l=e("<td/>"),o.append(l)),p[r][s]=l,M[r][s]=l,s++}var r,i,s,o,d,u,l,m=this.colCnt,_=this.buildSegLevels(n),c=Math.max(1,_.length),h=e("<tbody/>"),f=[],p=[],M=[];for(r=0;c>r;r++){if(i=_[r],s=0,o=e("<tr/>"),f.push([]),p.push([]),M.push([]),i)for(d=0;d<i.length;d++){for(u=i[d],a(u.leftCol),l=e('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?l.attr("colspan",u.rightCol-u.leftCol+1):M[r][s]=l;s<=u.rightCol;)p[r][s]=l,f[r][s]=u,s++;o.append(l)}a(m),this.bookendCells(o,"eventSkeleton"),h.append(o)}return{row:t,tbodyEl:h,cellMatrix:p,segMatrix:f,segLevels:_,segs:n}},buildSegLevels:function(e){var t,n,a,r=[];for(this.sortSegs(e),t=0;t<e.length;t++){for(n=e[t],a=0;a<r.length&&ke(n,r[a]);a++);n.level=a,(r[a]||(r[a]=[])).push(n)}for(a=0;a<r.length;a++)r[a].sort(we);return r},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),lt.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,a=this.rowStructs||[];for(t=0;t<a.length;t++)this.unlimitRow(t),n=e?"number"==typeof e?e:this.computeRowLevelLimit(t):!1,n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){i=Math.max(i,e(n).outerHeight())}var a,r,i,s=this.rowEls.eq(t),o=s.height(),d=this.rowStructs[t].tbodyEl.children();for(a=0;a<d.length;a++)if(r=d.eq(a).removeClass("fc-limited"),i=0,r.find("> td > :first-child").each(n),r.position().top+i>o)return a;return!1},limitRow:function(t,n){function a(a){for(;a>v;)r=g.getCell(t,v),l=g.getCellSegs(r,n),l.length&&(c=s[n-1][v],L=g.renderMoreLink(r,l),y=e("<div/>").append(L),c.append(y),Y.push(y[0])),v++}var r,i,s,o,d,u,l,m,_,c,h,f,p,M,y,L,g=this,T=this.rowStructs[t],Y=[],v=0;if(n&&n<T.segLevels.length){for(i=T.segLevels[n-1],s=T.cellMatrix,o=T.tbodyEl.children().slice(n).addClass("fc-limited").get(),d=0;d<i.length;d++){for(u=i[d],a(u.leftCol),_=[],m=0;v<=u.rightCol;)r=this.getCell(t,v),l=this.getCellSegs(r,n),_.push(l),m+=l.length,v++;if(m){for(c=s[n-1][u.leftCol],h=c.attr("rowspan")||1,f=[],p=0;p<_.length;p++)M=e('<td class="fc-more-cell"/>').attr("rowspan",h),l=_[p],r=this.getCell(t,u.leftCol+p),L=this.renderMoreLink(r,[u].concat(l)),y=e("<div/>").append(L),M.append(y),f.push(M[0]),Y.push(M[0]);c.addClass("fc-limited").after(e(f)),o.push(c[0])}}a(this.colCnt),T.moreEls=e(Y),T.limitedEls=e(o)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n){var a=this,r=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(i){var s=r.opt("eventLimitClick"),o=t.start,d=e(this),u=a.getCellDayEl(t),l=a.getCellSegs(t),m=a.resliceDaySegs(l,o),_=a.resliceDaySegs(n,o);"function"==typeof s&&(s=r.trigger("eventLimitClick",null,{date:o,dayEl:u,moreEl:d,segs:m,hiddenSegs:_},i)),"popover"===s?a.showSegPopover(t,d,m):"string"==typeof s&&r.calendar.zoomTo(o,s)})},showSegPopover:function(e,t,n){var a,r,i=this,s=this.view,o=t.parent();a=1==this.rowCnt?s.el:this.rowEls.eq(e.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(e,n),parentEl:this.el,top:a.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){i.segPopover.removeElement(),i.segPopover=null,i.popoverSegs=null}},this.isRTL?r.right=o.offset().left+o.outerWidth()+1:r.left=o.offset().left-1,this.segPopover=new nt(r),this.segPopover.show()},renderSegPopoverContent:function(t,n){var a,r=this.view,i=r.opt("theme"),s=t.start.format(r.opt("dayPopoverFormat")),o=e('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(i?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+Q(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),d=o.find(".fc-event-container");
for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,a=0;a<n.length;a++)n[a].cell=t,d.append(n[a].el);return o},resliceDaySegs:function(t,n){var a=e.map(t,function(e){return e.event}),r=n.clone().stripTime(),i=r.clone().add(1,"days"),s={start:r,end:i};return t=this.eventsToSegs(a,function(e){var t=j(e,s);return t?[t]:[]}),this.sortSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t){for(var n,a=this.rowStructs[e.row].segMatrix,r=t||0,i=[];r<a.length;)n=a[r][e.col],n&&i.push(n),r++;return i}});var mt=ut.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,colDates:null,labelFormat:null,labelInterval:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){ut.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(e),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(e){return this.bgCellHtml(e)},slatRowHtml:function(){for(var e,n,a,r=this.view,i=this.isRTL,s="",o=t.duration(+this.minTime);o<this.maxTime;)e=this.start.clone().time(o),n=te(z(o,this.labelInterval)),a='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+Q(e.format(this.labelFormat))+"</span>":"")+"</td>",s+="<tr "+(n?"":'class="fc-minor"')+">"+(i?"":a)+'<td class="'+r.widgetContentClass+'"/>'+(i?a:"")+"</tr>",o.add(this.slotDuration);return s},processOptions:function(){var n,a=this.view,r=a.opt("slotDuration"),i=a.opt("snapDuration");r=t.duration(r),i=i?t.duration(i):r,this.slotDuration=r,this.snapDuration=i,this.cellDuration=i,this.minTime=t.duration(a.opt("minTime")),this.maxTime=t.duration(a.opt("maxTime")),n=a.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||a.opt("axisFormat")||a.opt("smallTimeFormat"),n=a.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(e){var n,a,r;for(n=Dt.length-1;n>=0;n--)if(a=t.duration(Dt[n]),r=z(a,e),te(r)&&r>1)return a;return t.duration(e)},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},rangeUpdated:function(){var e,t=this.view,n=[];for(e=this.start.clone();e.isBefore(this.end);)n.push(e.clone()),e.add(1,"day"),e=t.skipHiddenDays(e);this.isRTL&&n.reverse(),this.colDates=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(e){var t=this.colDates[e.col],n=this.computeSnapTime(e.row);return t=this.view.calendar.rezoneDate(t),t.time(n),t},getColEl:function(e){return this.dayEls.eq(e)},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},rangeToSegs:function(e){var t,n,a,r,i=this.colCnt,s=[];for(e={start:e.start.clone().stripZone(),end:e.end.clone().stripZone()},n=0;i>n;n++)a=this.colDates[n],r={start:a.clone().time(this.minTime),end:a.clone().time(this.maxTime)},t=j(e,r),t&&(t.col=n,s.push(t));return s},updateSize:function(e){this.computeSlatTops(),e&&this.updateSegVerticals()},computeRowCoords:function(){var e,t,n=this.el.offset().top,a=[];for(e=0;e<this.rowCnt;e++)t={top:n+this.computeTimeTop(this.computeSnapTime(e))},e>0&&(a[e-1].bottom=t.top),a.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(e)),a},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,a,r,i=(e-this.minTime)/this.slotDuration;return i=Math.max(0,i),i=Math.min(this.slatEls.length,i),t=Math.floor(i),n=i-t,a=this.slatTops[t],n?(r=this.slatTops[t+1],a+(r-a)*n):a},computeSlatTops:function(){var t,n=[];this.slatEls.each(function(a,r){t=e(r).position().top,n.push(t)}),n.push(t+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(e,t){return t?(this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.eventRangeToSegs(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){this.renderRangeHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,n){var a,r,i,s,o=this.eventsToSegs([t]);for(o=this.renderFgSegEls(o),a=this.renderSegTable(o),r=0;r<o.length;r++)i=o[r],n&&n.col===i.col&&(s=n.el,i.el.css({left:s.css("left"),right:s.css("right"),"margin-left":s.css("margin-left"),"margin-right":s.css("margin-right")}));this.helperEl=e('<div class="fc-helper-skeleton"/>').append(a).appendTo(this.el)},unrenderHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderRangeHelper(e):this.renderHighlight(this.selectionRangeToSegs(e))},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderFill:function(t,n,a){var r,i,s,o,d,u,l,m,_,c;if(n.length){for(n=this.renderFillSegEls(t,n),r=this.groupSegCols(n),a=a||t.toLowerCase(),i=e('<div class="fc-'+a+'-skeleton"><table><tr/></table></div>'),s=i.find("tr"),o=0;o<r.length;o++)if(d=r[o],u=e("<td/>").appendTo(s),d.length)for(l=e('<div class="fc-'+a+'-container"/>').appendTo(u),m=this.colDates[o],_=0;_<d.length;_++)c=d[_],l.append(c.el.css({top:this.computeDateTop(c.start,m),bottom:-this.computeDateTop(c.end,m)}));this.bookendCells(s,t),this.el.append(i),this.elsByFill[t]=i}return n}});mt.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=e('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},unrenderFgSegs:function(e){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var n,a,r,i,s,o,d=e("<table><tr/></table>"),u=d.find("tr");for(n=this.groupSegCols(t),this.computeSegVerticals(t),i=0;i<n.length;i++){for(s=n[i],this.placeSlotSegs(s),o=e('<div class="fc-event-container"/>'),a=0;a<s.length;a++)r=s[a],r.el.css(this.generateSegPositionCss(r)),r.bottom-r.top<30&&r.el.addClass("fc-short"),o.append(r.el);u.append(e("<td/>").append(o))}return this.bookendCells(u,"eventSkeleton"),d},placeSlotSegs:function(e){var t,n,a;if(this.sortSegs(e),t=be(e),Se(t),n=t[0]){for(a=0;a<n.length;a++)xe(n[a]);for(a=0;a<n.length;a++)this.computeSlotSegCoords(n[a],0,0)}},computeSlotSegCoords:function(e,t,n){var a,r=e.forwardSegs;if(void 0===e.forwardCoord)for(r.length?(this.sortForwardSlotSegs(r),this.computeSlotSegCoords(r[0],t+1,n),e.forwardCoord=r[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),a=0;a<r.length;a++)this.computeSlotSegCoords(r[a],0,e.forwardCoord)},updateSegVerticals:function(){var e,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),e=0;e<t.length;e++)t[e].el.css(this.generateSegVerticalCss(t[e]))},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(e,t){var n,a,r,i=this.view,s=e.event,o=i.isEventDraggable(s),d=!t&&e.isStart&&i.isEventResizableFromStart(s),u=!t&&e.isEnd&&i.isEventResizableFromEnd(s),l=this.getSegClasses(e,o,d||u),m=$(this.getEventSkinCss(s));return l.unshift("fc-time-grid-event","fc-v-event"),i.isMultiDayEvent(s)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),a=this.getEventTimeText(e,"LT"),r=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(s),a=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+l.join(" ")+'"'+(s.url?' href="'+Q(s.url)+'"':"")+(m?' style="'+m+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+Q(r)+'" data-full="'+Q(a)+'"><span>'+Q(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+Q(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(e){var t,n,a=this.view.opt("slotEventOverlap"),r=e.backwardCoord,i=e.forwardCoord,s=this.generateSegVerticalCss(e);return a&&(i=Math.min(1,r+2*(i-r))),this.isRTL?(t=1-i,n=r):(t=r,n=1-i),s.zIndex=e.level+1,s.left=100*t+"%",s.right=100*n+"%",a&&e.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},groupSegCols:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},sortForwardSlotSegs:function(e){e.sort(ne(this,"compareForwardSlotSegs"))},compareForwardSlotSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareSegs(e,t)}});var _t=Pe.View=Me.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(e,n,a,r){this.calendar=e,this.type=this.name=n,this.options=a,this.intervalDuration=r||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=w(this.opt("eventOrder")),this.documentMousedownProxy=ne(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,a=N(this.intervalDuration),r=e.clone().startOf(a),i=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(a)?(r.stripTime(),i.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),i.hasTime()||(i=this.calendar.rezoneDate(i))),t=r.clone(),t=this.skipHiddenDays(t),n=i.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:a,intervalStart:r,intervalEnd:i,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var a=e.end;return a.hasTime()||(a=a.clone().subtract(1)),_e(e.start,a,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t){var n=this,a=null;return this.displaying&&(a=this.queryScroll()),this.clear().then(function(){return n.displaying=e.when(n.displayView(t)).then(function(){n.forceScroll(n.computeInitialScroll(a)),n.triggerRender()})})},clear:function(){var t=this,n=this.displaying;return n?n.then(function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours()},clearView:function(){this.unselect(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},renderBusinessHours:function(){},unrenderBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){e(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){e(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),e&&this.setScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},computeScrollerHeight:function(e){var t,n,a=this.scrollerEl;return t=this.el.add(a),t.css({position:"relative",left:-1}),n=this.el.outerHeight()-a.height(),t.css({position:"",left:""}),e-n},computeInitialScroll:function(e){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(e){return this.scrollerEl?this.scrollerEl.scrollTop(e):void 0},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.isEventsRendered=!1)},renderEvents:function(e){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var a=this.trigger("eventRender",t,t,n);return a===!1?n=null:a&&a!==!0&&(n=e(a)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,a=this.getEventSegs();for(n=0;n<a.length;n++)t&&a[n].event._id!==t._id||a[n].el&&e.call(this,a[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return Z(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,a,r){var i=this.calendar,s=i.mutateEvent(e,t,n),o=function(){s.undo(),i.reportEventChange()};this.triggerEventDrop(e,s.dateDelta,o,a,r),i.reportEventChange()},triggerEventDrop:function(e,t,n,a,r){this.trigger("eventDrop",a[0],e,t,n,r,{})},reportExternalDrop:function(t,n,a,r,i){var s,o,d=t.eventProps;d&&(s=e.extend({},d,n),o=this.calendar.renderEvent(s,t.stick)[0]),this.triggerExternalDrop(o,n,a,r,i)},triggerExternalDrop:function(e,t,n,a,r){this.trigger("drop",n[0],t.start,a,r),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return Z(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,a,r){var i=this.calendar,s=i.mutateEvent(e,t,n),o=function(){s.undo(),i.reportEventChange()};this.triggerEventResize(e,s.durationDelta,o,a,r),i.reportEventChange()},triggerEventResize:function(e,t,n,a,r){this.trigger("eventResize",a[0],e,t,n,r,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,e.start,e.end,t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},documentMousedown:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&T(t)&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},triggerDayClick:function(e,t,n){this.trigger("dayClick",t,e.start,n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],a=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;7>t;t++)(a[t]=-1!==e.inArray(t,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=a},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var a=e.clone();for(t=t||1;this.isHiddenDayHash[(a.day()+(n?t:0)+7)%7];)a.add(t,"days");return a},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),a=e.end,r=null;return a&&(r=a.clone().stripTime(),t=+a.time(),t&&t>=this.nextDayThreshold&&r.add(1,"days")),(!a||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),ct=Pe.Calendar=Me.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Ce,initialize:function(){},initOptions:function(e){var t,r,i,s;e=a(e),t=e.lang,r=ht[t],r||(t=ct.defaults.lang,r=ht[t]||{}),i=Z(e.isRTL,r.isRTL,ct.defaults.isRTL),s=i?ct.rtlDefaults:{},this.dirDefaults=s,this.langDefaults=r,this.overrides=e,this.options=n([ct.defaults,s,r,e]),Ee(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,a,r;if(-1!=e.inArray(t,Ge))for(n=this.header.getViewsWithButtons(),e.each(Pe.views,function(e){n.push(e)}),a=0;a<n.length;a++)if(r=this.getViewSpec(n[a]),r&&r.singleUnit==t)return r},buildViewSpec:function(e){for(var a,r,i,s,o=this.overrides.views||{},d=[],u=[],l=[],m=e;m;)a=We[m],r=o[m],m=null,"function"==typeof a&&(a={"class":a}),a&&(d.unshift(a),u.unshift(a.defaults||{}),i=i||a.duration,m=m||a.type),r&&(l.unshift(r),i=i||r.duration,m=m||r.type);return a=R(d),a.type=e,a["class"]?(i&&(i=t.duration(i),i.valueOf()&&(a.duration=i,s=N(i),1===i.as(s)&&(a.singleUnit=s,l.unshift(o[s]||{})))),a.defaults=n(u),a.overrides=n(l),this.buildViewSpecOptions(a),this.buildViewSpecButtonText(a,e),a):!1},buildViewSpecOptions:function(e){e.options=n([ct.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),Ee(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var a=n.buttonText||{};return a[t]||(e.singleUnit?a[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(ct.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectRange:function(e,t){return e=this.moment(e),t=t?this.moment(t):e.hasTime()?e.clone().add(this.defaultTimedEventDuration):e.clone().add(this.defaultAllDayEventDuration),{start:e,end:t}}});ct.mixin(tt),ct.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ct.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},ct.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var ht=Pe.langs={};Pe.datepickerLang=function(t,n,a){var r=ht[t]||(ht[t]={});r.isRTL=a.isRTL,r.weekNumberTitle=a.weekHeader,e.each(ft,function(e,t){r[e]=t(a)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=a,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(a))},Pe.lang=function(t,a){var r,i;r=ht[t]||(ht[t]={}),a&&(r=ht[t]=n([r,a])),i=Ne(t),e.each(pt,function(e,t){null==r[e]&&(r[e]=t(i,r))}),ct.defaults.lang=t};var ft={buttonText:function(e){return{prev:K(e.prevText),next:K(e.nextText),today:K(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},pt={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},Mt={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};Pe.lang("en",ct.englishDefaults),Pe.sourceNormalizers=[],Pe.sourceFetchers=[];var yt={dataType:"json",cache:!1},Lt=1;ct.prototype.getPeerEvents=function(e,t){var n,a,r=this.getEventCache(),i=[];for(n=0;n<r.length;n++)a=r[n],e&&e._id===a._id||i.push(a);return i};var gt=_t.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new lt(this),this.coordMap=this.dayGrid.coordMap},setRange:function(e){_t.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=_t.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+Q(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(e){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(e,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(e){var t,n=e.start;return this.dayNumbersVisible?(t=this.dayGrid.getDayClasses(n),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=l(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,a=this.opt("eventLimit");_(this.scrollerEl),i(this.headRowEl),this.dayGrid.removeSegPopover(),a&&"number"==typeof a&&this.dayGrid.limitRows(a),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),a&&"number"!=typeof a&&this.dayGrid.limitRows(a),!t&&m(this.scrollerEl,n)&&(r(this.headRowEl,M(this.scrollerEl)),n=this.computeScrollerHeight(e),this.scrollerEl.height(n))},setGridHeight:function(e,t){t?u(this.dayGrid.rowEls):d(this.dayGrid.rowEls,e,!0)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Tt=gt.extend({computeRange:function(e){var t,n=gt.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),d(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});We.basic={"class":gt},We.basicDay={type:"basic",duration:{days:1}},We.basicWeek={type:"basic",duration:{weeks:1}},We.month={"class":Tt,duration:{months:1},defaults:{fixedWeekCount:!0}};var Yt=_t.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new mt(this),this.opt("allDaySlot")?(this.dayGrid=new lt(this),this.coordMap=new rt([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(e){_t.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var e,t;return this.opt("weekNumbers")?(e=this.timeGrid.getCell(0).start,t=e.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+Q(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||Q(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(e){this.timeGrid.updateSize(e),_t.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=l(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,a;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),_(this.scrollerEl),i(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=vt),n&&this.dayGrid.limitRows(n)),t||(a=this.computeScrollerHeight(e),m(this.scrollerEl,a)?(r(this.noScrollRowEls,M(this.scrollerEl)),a=this.computeScrollerHeight(e),this.scrollerEl.height(a)):(this.scrollerEl.height(a).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,n},renderEvents:function(e){var t,n,a=[],r=[],i=[];for(n=0;n<e.length;n++)e[n].allDay?a.push(e[n]):r.push(e[n]);t=this.timeGrid.renderEvents(r),this.dayGrid&&(i=this.dayGrid.renderEvents(a)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),vt=5,Dt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return We.agenda={"class":Yt,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},We.agendaDay={type:"agenda",duration:{days:1}},We.agendaWeek={type:"agenda",duration:{weeks:1}},Pe;
});