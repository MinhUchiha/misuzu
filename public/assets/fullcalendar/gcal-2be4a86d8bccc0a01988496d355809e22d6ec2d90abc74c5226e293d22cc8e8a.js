/*!
 * FullCalendar v2.4.0 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(t,a,s,l,d){function u(n,r){var o=r||[{message:n}];(t.googleCalendarError||e.noop).apply(d,o),(d.options.googleCalendarError||e.noop).apply(d,o),i.warn.apply(null,[n].concat(r||[]))}var c,h,p=r+"/"+encodeURIComponent(t.googleCalendarId)+"/events?callback=?",f=t.googleCalendarApiKey||d.options.googleCalendarApiKey,m=t.success;return f?(a.hasZone()||(a=a.clone().utc().add(-1,"day")),s.hasZone()||(s=s.clone().utc().add(1,"day")),l&&"local"!=l&&(h=l.replace(" ","_")),c=e.extend({},t.data||{},{key:f,timeMin:a.format(),timeMax:s.format(),timeZone:h,singleEvents:!0,maxResults:9999}),e.extend({},t,{googleCalendarId:null,url:p,data:c,startParam:!1,endParam:!1,timezoneParam:!1,success:function(t){var r,i,a=[];if(t.error)u("Google Calendar API: "+t.error.message,t.error.errors);else if(t.items&&(e.each(t.items,function(e,t){var r=t.htmlLink;h&&(r=n(r,"ctz="+h)),a.push({id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:r,location:t.location,description:t.description})}),r=[a].concat(Array.prototype.slice.call(arguments,1)),i=o(m,this,r),e.isArray(i)))return i;return a}})):(u("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function n(e,t){return e.replace(/(\?.*?)?(#|$)/,function(e,n,r){return(n?n+"&":"?")+t+r})}var r="https://www.googleapis.com/calendar/v3/calendars",i=e.fullCalendar,o=i.applyAll;i.sourceNormalizers.push(function(e){var t,n=e.googleCalendarId,r=e.url;!n&&r&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r)?n=r:((t=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r))||(t=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r)))&&(n=decodeURIComponent(t[1])),n&&(e.googleCalendarId=n)),n&&(null==e.editable&&(e.editable=!1),e.url=n)}),i.sourceFetchers.push(function(e,n,r,i){return e.googleCalendarId?t(e,n,r,i,this):void 0})});