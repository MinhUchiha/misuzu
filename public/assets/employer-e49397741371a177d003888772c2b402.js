$(function(){oTable=$("#multiselect_table").DataTable({pagingType:"full_numbers",scrollX:!1,autoWidth:!1,scrollCollapse:!1,oLanguage:{sUrl:"../../assets/resource/dataTable_ja.txt"},columnDefs:[{targets:[0],width:"5%"}],aoColumnDefs:[{aTargets:[1],mRender:function(e){return'<a data-toggle="modal" href="#new_employer_modal">'+e+"</a>"}},{bSortable:!1,aTargets:[0]},{targets:[7],visible:!1,searchable:!1}]}),$("#multiselect_table tbody").on("click","tr",function(){var e=oTable.row(this).data(),t=$("#new_employer_modal");t.find('input[name="employer[first_name]"]').val(e[1]),t.find('input[name="employer[position]"]').val(e[2]),t.find('input[name="employer[office]"]').val(e[3]),t.find('input[name="employer[age]"]').val(e[4]),t.find('input[name="employer[start_date]"]').val(e[5]),t.find('input[name="employer[salary]"]').val(e[6]),t.find('input[name="employer[id]"]').val(e[7]),idx=oTable.row(this).index(),$("#clicked_index").val(idx)}),$("#multiselect_table tbody INPUT").click(function(){$(this).parent().parent().toggleClass("success")})}),$(function(){$(document).bind("ajaxError","form#new_employer",function(e,t){$(e.data).render_form_errors($.parseJSON(t.responseText))})}),function(e){e.fn.modal_success=function(){this.modal("hide"),this.find('input[type="text"]').val(""),this.clear_previous_errors()},e.fn.render_form_errors=function(t){$form=this,this.clear_previous_errors(),model=this.data("model"),e.each(t,function(t,l){$input=e('input[name="'+model+"["+t+']"]'),$input.closest(".form-group").addClass("has-error").find(".help-block").html(l.join(" & "))})},e.fn.clear_previous_errors=function(){e(".form-group.has-error",this).each(function(){e(".help-block",e(this)).html(""),e(this).removeClass("has-error")})}}(jQuery),$(function(){$("#add_new_employer").click(function(){$("#new_employer_modal").modal("show"),$("#new_employer_modal").find('input[type="text"]').val(""),$("#new_employer_modal").find('input[type="hidden"]').val(""),$("#new_employer_modal").clear_previous_errors(),$("#clicked_index").val("")}),$("#delete_all").click(function(){$(this).is(":checked")?($("#multiselect_table tbody tr").addClass("success"),$("#multiselect_table tbody").find('input[type="checkbox"]').prop("checked",!0)):($("#multiselect_table tbody tr").removeClass("success"),$("#multiselect_table tbody").find('input[type="checkbox"]').prop("checked",!1))})});